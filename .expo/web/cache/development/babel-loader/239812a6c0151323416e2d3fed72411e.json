{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/caleb_lee/gina_web_app/components/parent/absenceexcuse.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport { formatDate, beautifyMonthDate } from \"../util\";\nimport PickerComponent from \"../picker\";\nimport TimeModal from \"./timemodal\";\nimport ENV from \"../../variables\";\nimport { connect } from 'react-redux';\n\nvar _Dimensions$get = Dimensions.get('window'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar options = [{\n  value: \"感冒\",\n  label: \"感冒\"\n}, {\n  value: '流感',\n  label: '流感'\n}, {\n  value: '腸病毒',\n  label: '腸病毒'\n}, {\n  value: '水痘',\n  label: '水痘'\n}, {\n  value: '腸胃炎',\n  label: '腸胃炎'\n}, {\n  value: '其他',\n  label: '其他'\n}, {\n  value: 'Cancel',\n  label: '返回'\n}];\n\nvar AbsenceExcuse = function (_React$Component) {\n  _inherits(AbsenceExcuse, _React$Component);\n\n  var _super = _createSuper(AbsenceExcuse);\n\n  function AbsenceExcuse(props) {\n    var _this;\n\n    _classCallCheck(this, AbsenceExcuse);\n\n    _this = _super.call(this, props);\n\n    _this.handleSelectStatus = function (excuse_type) {\n      if (excuse_type === 'Cancel') {\n        _this.setState({\n          showSelect: false\n        });\n      } else if (excuse_type === '其他') {\n        _this.setState({\n          editing_other_option: true,\n          excuse_type: '其他',\n          showSelect: false\n        });\n      } else {\n        _this.setState({\n          excuse_type: excuse_type,\n          showSelect: false\n        });\n      }\n    };\n\n    _this.state = {\n      max_date: new Date().setDate(new Date().getDate() + 30),\n      cached_date: null,\n      startDate: new Date(),\n      endDate: new Date(),\n      show_start_date_picker: false,\n      show_end_date_picker: false,\n      showSelect: false,\n      childIsSick: 0,\n      excuse_type: 'none-medical',\n      editing_other_option: false,\n      days: ['天', '一', '二', '三', '四', '五', '六'],\n      months: ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '十二'],\n      access_mode: 'create',\n      note: '',\n      absence_time: 'all_day',\n      scrollHeight: '100%',\n      request_id: ''\n    };\n    _this.setStartDate = _this.setStartDate.bind(_assertThisInitialized(_this));\n    _this.setEndDate = _this.setEndDate.bind(_assertThisInitialized(_this));\n    _this.setChildNotSick = _this.setChildNotSick.bind(_assertThisInitialized(_this));\n    _this.setChildSick = _this.setChildSick.bind(_assertThisInitialized(_this));\n    _this.onValueChange = _this.onValueChange.bind(_assertThisInitialized(_this));\n    _this.sendAbsenceNote = _this.sendAbsenceNote.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(AbsenceExcuse, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.request !== this.props.request) {\n        var request = this.props.request;\n\n        if (!request) {\n          this.setState({\n            startDate: new Date(),\n            endDate: new Date(),\n            childIsSick: 0,\n            excuse_type: 'none-medical',\n            note: '',\n            absence_time: 'all_day',\n            access_mode: 'create',\n            cached_date: null,\n            scrollHeight: '100%',\n            request_id: ''\n          });\n          return;\n        }\n\n        var id = request.id,\n            date = request.date,\n            excuse_type = request.excuse_type,\n            note = request.note,\n            absence_time = request.absence_time;\n        this.setState({\n          startDate: date,\n          endDate: null,\n          childIsSick: excuse_type === 'none-medical' ? 0 : 1,\n          excuse_type: excuse_type,\n          note: note,\n          absence_time: absence_time,\n          access_mode: 'read',\n          cached_date: null,\n          request_id: id\n        });\n      }\n    }\n  }, {\n    key: \"isIOS\",\n    value: function isIOS() {\n      return Platform.OS === 'ios';\n    }\n  }, {\n    key: \"fetchAccessMode\",\n    value: function fetchAccessMode() {\n      return this.state.access_mode;\n    }\n  }, {\n    key: \"showSelect\",\n    value: function showSelect() {\n      this.setState({\n        childIsSick: 1,\n        showSelect: true\n      });\n    }\n  }, {\n    key: \"setChildSick\",\n    value: function setChildSick() {\n      this.setState({\n        childIsSick: 1\n      });\n    }\n  }, {\n    key: \"setChildNotSick\",\n    value: function setChildNotSick() {\n      var access_mode = this.state.access_mode;\n      if (access_mode === 'read') return;\n      this.setState({\n        childIsSick: 0,\n        excuse_type: 'none-medical'\n      });\n    }\n  }, {\n    key: \"editorOnBlur\",\n    value: function editorOnBlur() {\n      var excuse_type = this.state.excuse_type;\n      this.setState({\n        editing_other_option: false,\n        childIsSick: excuse_type === '' ? 0 : 1,\n        excuse_type: excuse_type === '' ? 'none-medical' : excuse_type\n      });\n    }\n  }, {\n    key: \"setStartDate\",\n    value: function setStartDate(date) {\n      if (Platform.OS === 'ios') {\n        this.iosSetStartDate(date);\n      } else {\n        this.androidSetStartDate(date);\n      }\n    }\n  }, {\n    key: \"iosSetStartDate\",\n    value: function iosSetStartDate(date) {\n      var endDate = this.state.endDate;\n\n      if (this.state.access_mode === 'edit') {\n        var _this$state = this.state,\n            cached_date = _this$state.cached_date,\n            startDate = _this$state.startDate;\n        this.setState({\n          cached_date: cached_date === null ? startDate : cached_date,\n          startDate: date\n        });\n      } else {\n        this.setState({\n          startDate: date,\n          endDate: date < endDate ? endDate : date\n        });\n      }\n    }\n  }, {\n    key: \"androidSetStartDate\",\n    value: function androidSetStartDate(date) {\n      if (date !== undefined) {\n        var endDate = this.state.endDate;\n\n        if (this.state.access_mode === 'edit') {\n          var _this$state2 = this.state,\n              cached_date = _this$state2.cached_date,\n              startDate = _this$state2.startDate;\n          var id = this.props.request.id;\n          this.setState({\n            cached_date: cached_date === null ? startDate : cached_date,\n            startDate: date,\n            show_start_date_picker: false\n          });\n          this.props.checkUniqueStudentDate(id, date);\n        } else {\n          this.setState({\n            startDate: date,\n            endDate: date < endDate ? endDate : date,\n            show_start_date_picker: false\n          });\n        }\n      } else {\n        this.setState({\n          show_start_date_picker: false\n        });\n      }\n    }\n  }, {\n    key: \"onEndEditingStartDate\",\n    value: function onEndEditingStartDate() {\n      var startDate = this.state.startDate;\n\n      if (this.state.access_mode === 'edit') {\n        var id = this.props.request.id;\n        this.props.checkUniqueStudentDate(id, startDate);\n      }\n\n      this.setState({\n        show_start_date_picker: false\n      });\n    }\n  }, {\n    key: \"duplicateDateFound\",\n    value: function duplicateDateFound() {\n      var cached_date = this.state.cached_date;\n      this.setState({\n        startDate: cached_date,\n        cached_date: null\n      });\n    }\n  }, {\n    key: \"setEndDate\",\n    value: function setEndDate(date) {\n      if (Platform.OS === 'ios') {\n        this.iosSetEndDate(date);\n      } else {\n        this.androidSetEndDate(date);\n      }\n    }\n  }, {\n    key: \"iosSetEndDate\",\n    value: function iosSetEndDate(date) {\n      var startDate = this.state.startDate;\n      this.setState({\n        startDate: date < startDate ? date : startDate,\n        endDate: date\n      });\n    }\n  }, {\n    key: \"androidSetEndDate\",\n    value: function androidSetEndDate(date) {\n      if (date !== undefined) {\n        var startDate = this.state.startDate;\n        this.setState({\n          startDate: date < startDate ? date : startDate,\n          endDate: date,\n          show_end_date_picker: false\n        });\n      } else {\n        this.setState({\n          show_end_date_picker: false\n        });\n      }\n    }\n  }, {\n    key: \"getDayDifference\",\n    value: function getDayDifference() {\n      var _this$state3 = this.state,\n          startDate = _this$state3.startDate,\n          endDate = _this$state3.endDate;\n      var oneDay = 24 * 60 * 60 * 1000;\n      return Math.round(Math.abs((endDate - startDate) / oneDay)) + 1;\n    }\n  }, {\n    key: \"onValueChange\",\n    value: function onValueChange(value) {\n      this.setState({\n        excuse_type: value\n      });\n    }\n  }, {\n    key: \"setScrollHeight\",\n    value: function setScrollHeight(scrollHeight) {\n      this.setState({\n        scrollHeight: scrollHeight\n      });\n    }\n  }, {\n    key: \"handleClickConfirmButton\",\n    value: function handleClickConfirmButton() {\n      var access_mode = this.state.access_mode;\n\n      if (access_mode === 'read') {\n        this.setState({\n          access_mode: 'edit'\n        });\n      } else if (access_mode === 'create') {\n        this.sendAbsenceNote();\n      } else if (access_mode === 'edit') {\n        var id = this.props.request.id;\n        this.editAbsenceNote(id);\n      }\n    }\n  }, {\n    key: \"sendAbsenceNote\",\n    value: function sendAbsenceNote() {\n      var _this2 = this;\n\n      var _this$state4 = this.state,\n          excuse_type = _this$state4.excuse_type,\n          note = _this$state4.note,\n          absence_time = _this$state4.absence_time;\n      var _this$props = this.props,\n          student_id = _this$props.student_id,\n          class_id = _this$props.class_id,\n          school_id = _this$props.school_id,\n          isConnected = _this$props.isConnected;\n      var startDate = formatDate(this.state.startDate);\n      var endDate = formatDate(this.state.endDate);\n      var request_body = {\n        student_id: student_id,\n        class_id: class_id,\n        school_id: school_id,\n        startDate: startDate,\n        endDate: endDate,\n        excuse_type: excuse_type,\n        note: note,\n        absence_time: absence_time\n      };\n\n      if (!isConnected) {\n        alert('網路連不到! 請稍後再試試看');\n        return;\n      }\n\n      fetch(\"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/\" + ENV + \"/absence-excuse\", {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(request_body)\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        var statusCode = resJson.statusCode,\n            message = resJson.message,\n            data = resJson.data;\n\n        if (statusCode > 200 || message === 'Internal server error') {\n          alert('Sorry 電腦出狀況了！ 請截圖和與工程師聯繫' + message);\n          return;\n        }\n\n        _this2.props.onCreateRequestSuccess(data.id);\n      }).catch(function (err) {\n        alert('Sorry 電腦出狀況了！ 請截圖和與工程師聯繫: error occurred when sending absence request');\n      });\n    }\n  }, {\n    key: \"editAbsenceNote\",\n    value: function editAbsenceNote(request_id) {\n      var _this3 = this;\n\n      var _this$state5 = this.state,\n          excuse_type = _this$state5.excuse_type,\n          note = _this$state5.note,\n          absence_time = _this$state5.absence_time;\n      var class_id = this.props.class_id;\n      var date = formatDate(this.state.startDate);\n      fetch(\"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/\" + ENV + \"/absence-excuse\", {\n        method: 'PUT',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          request_id: request_id,\n          excuse_type: excuse_type,\n          note: note,\n          date: date,\n          class_id: class_id,\n          absence_time: absence_time\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        var statusCode = resJson.statusCode,\n            message = resJson.message,\n            data = resJson.data;\n\n        if (statusCode > 200 || message === 'Internal server error') {\n          alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫' + message);\n          return;\n        }\n\n        _this3.props.onCreateRequestSuccess(request_id);\n      }).catch(function (err) {\n        alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when editing absence request');\n      });\n    }\n  }, {\n    key: \"deleteRequestConfirm\",\n    value: function deleteRequestConfirm() {\n      var confirmed = confirm('確定要刪除？');\n\n      if (confirmed) {\n        this.deleteRequest();\n      }\n    }\n  }, {\n    key: \"deleteRequest\",\n    value: function deleteRequest() {\n      var _this4 = this;\n\n      var id = this.props.request.id;\n      fetch(\"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/\" + ENV + \"/absence-excuse\", {\n        method: 'DELETE',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          request_id: id\n        })\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        var statusCode = resJson.statusCode,\n            message = resJson.message,\n            data = resJson.data;\n\n        if (statusCode > 200 || message === 'Internal server error') {\n          alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫' + message);\n          return;\n        }\n\n        _this4.props.onDeleteRequestSuccess(id);\n      }).catch(function (err) {\n        alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when deleting absence request');\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var _this$state6 = this.state,\n          max_date = _this$state6.max_date,\n          access_mode = _this$state6.access_mode,\n          startDate = _this$state6.startDate,\n          endDate = _this$state6.endDate,\n          excuse_type = _this$state6.excuse_type,\n          editing_other_option = _this$state6.editing_other_option,\n          note = _this$state6.note,\n          show_start_date_picker = _this$state6.show_start_date_picker,\n          show_end_date_picker = _this$state6.show_end_date_picker,\n          showSelect = _this$state6.showSelect,\n          absence_time = _this$state6.absence_time,\n          scrollHeight = _this$state6.scrollHeight,\n          request_id = _this$state6.request_id;\n\n      if (show_start_date_picker) {\n        return React.createElement(View, {\n          style: {\n            height: height,\n            marginTop: -120\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }\n        }, React.createElement(TimeModal, {\n          start_date: startDate,\n          datetime_type: 'date',\n          hideModal: function hideModal() {\n            return _this5.setState({\n              show_start_date_picker: false\n            });\n          },\n          selectDatetimeConfirm: function selectDatetimeConfirm(date) {\n            return _this5.setStartDate(date);\n          },\n          minDatetime: new Date(),\n          maxDatetime: max_date,\n          paddingVertical: 100,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 21\n          }\n        }));\n      }\n\n      if (show_end_date_picker) {\n        return React.createElement(View, {\n          style: {\n            height: height,\n            marginTop: -120\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 17\n          }\n        }, React.createElement(TimeModal, {\n          start_date: endDate,\n          datetime_type: 'date',\n          hideModal: function hideModal() {\n            return _this5.setState({\n              show_end_date_picker: false\n            });\n          },\n          selectDatetimeConfirm: function selectDatetimeConfirm(date) {\n            return _this5.setEndDate(date);\n          },\n          minDatetime: new Date(),\n          maxDatetime: max_date,\n          paddingVertical: 100,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 21\n          }\n        }));\n      }\n\n      if (showSelect) {\n        return React.createElement(View, {\n          style: {\n            padding: 30,\n            height: '100%',\n            alignItems: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 17\n          }\n        }, options.map(function (option, index) {\n          var label = option.label,\n              value = option.value;\n          return React.createElement(TouchableOpacity, {\n            key: index,\n            style: {\n              width: '50%',\n              padding: 15,\n              backgroundColor: 'white',\n              borderWidth: 1,\n              borderColor: 'lightgrey'\n            },\n            onClick: function onClick() {\n              return _this5.handleSelectStatus(value);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 424,\n              columnNumber: 29\n            }\n          }, React.createElement(Text, {\n            style: {\n              fontSize: 25\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 33\n            }\n          }, label));\n        }));\n      }\n\n      return React.createElement(View, {\n        style: {\n          paddingHorizontal: 30,\n          paddingVertical: 30,\n          height: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 21\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 25\n        }\n      }, React.createElement(TouchableOpacity, {\n        disabled: access_mode === 'read',\n        style: {\n          flex: 1,\n          padding: 15,\n          justifyContent: 'center',\n          backgroundColor: this.state.childIsSick === 0 ? '#368cbf' : 'rgba(0,0,0,0.1)',\n          borderTopLeftRadius: 30,\n          borderBottomLeftRadius: 30\n        },\n        underlayColor: \"#368cbf\",\n        onClick: this.setChildNotSick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 29\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          color: this.state.childIsSick === 0 ? 'white' : 'black',\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 33\n        }\n      }, \"\\u4E8B\\u5047\")), editing_other_option ? React.createElement(View, {\n        style: {\n          flex: 1,\n          padding: 15,\n          borderTopRightRadius: 30,\n          borderBottomRightRadius: 30,\n          justifyContent: 'center',\n          backgroundColor: this.state.childIsSick ? '#368cbf' : 'rgba(0,0,0,0.1)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 33\n        }\n      }, React.createElement(TextInput, {\n        autoFocus: true,\n        selectTextOnFocus: true,\n        style: {\n          fontSize: 25,\n          color: this.state.childIsSick ? 'white' : 'black',\n          textAlign: 'center',\n          paddingVertical: -1\n        },\n        value: excuse_type,\n        onChangeText: function onChangeText(excuse_type) {\n          return _this5.setState({\n            excuse_type: excuse_type\n          });\n        },\n        onBlur: function onBlur() {\n          return _this5.editorOnBlur();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 37\n        }\n      })) : React.createElement(PickerComponent, {\n        style: {\n          flex: 1,\n          padding: 15,\n          borderTopRightRadius: 30,\n          borderBottomRightRadius: 30,\n          justifyContent: 'center',\n          backgroundColor: this.state.childIsSick === 0 ? 'rgba(0,0,0,0.1)' : '#368cbf'\n        },\n        disabled: access_mode === 'read',\n        textStyle: {\n          fontSize: 25,\n          color: this.state.childIsSick ? 'white' : 'black',\n          textAlign: 'center'\n        },\n        selectedValue: excuse_type === 'none-medical' ? '病假' : excuse_type,\n        showSelect: function showSelect() {\n          return _this5.showSelect();\n        },\n        handleOnClick: this.setChildSick,\n        handleSelectValue: function handleSelectValue(excuse_type) {\n          return _this5.handleSelectStatus(excuse_type);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 33\n        }\n      })), React.createElement(View, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 513,\n          columnNumber: 25\n        }\n      }, endDate === null ? React.createElement(View, {\n        style: {\n          paddingVertical: 20,\n          width: '70%',\n          alignSelf: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 33\n        }\n      }, React.createElement(TouchableOpacity, {\n        disabled: access_mode === 'read',\n        style: {\n          backgroundColor: 'rgba(0,0,0,0.4)'\n        },\n        onClick: function onClick() {\n          if (access_mode === 'read') return;\n\n          _this5.setState({\n            show_start_date_picker: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 522,\n          columnNumber: 37\n        }\n      }, React.createElement(View, {\n        style: {\n          padding: 15,\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 41\n        }\n      }, React.createElement(View, {\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 531,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontSize: width * 0.12,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 49\n        }\n      }, startDate.getFullYear())), React.createElement(View, {\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 536,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontSize: width * 0.12,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 49\n        }\n      }, startDate.getMonth() + 1, \"/\", startDate.getDate())), React.createElement(View, {\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: width * 0.12,\n          color: 'white',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 49\n        }\n      }, \"\\u661F\\u671F\", this.state.days[startDate.getDay()]))))) : React.createElement(View, {\n        style: {\n          alignItems: 'center',\n          paddingVertical: 15\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 33\n        }\n      }, React.createElement(View, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'rgba(0,0,0,0.4)',\n          fontSize: width * 0.1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 558,\n          columnNumber: 41\n        }\n      }, \"\\u958B\\u59CB\"), React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: 'rgba(0,0,0,0.4)',\n          padding: 15\n        },\n        onClick: function onClick() {\n          return _this5.setState({\n            show_start_date_picker: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 41\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 563,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontSize: width * 0.09,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 564,\n          columnNumber: 49\n        }\n      }, beautifyMonthDate(startDate)), React.createElement(Text, {\n        style: {\n          fontSize: width * 0.09,\n          color: 'white',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 49\n        }\n      }, \"\\u661F\\u671F\", this.state.days[startDate.getDay()])))), React.createElement(View, {\n        style: {\n          width: '100%',\n          alignItems: 'center',\n          justifyContent: 'center',\n          padding: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 41\n        }\n      }, \"\\u7E3D\\u8A08 \", this.getDayDifference(), \" \\u5929\")), React.createElement(View, {\n        style: {\n          width: '100%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 580,\n          columnNumber: 37\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          backgroundColor: 'rgba(0,0,0,0.4)',\n          padding: 15\n        },\n        onClick: function onClick() {\n          return _this5.setState({\n            show_end_date_picker: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 41\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white',\n          fontSize: width * 0.09,\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 586,\n          columnNumber: 49\n        }\n      }, beautifyMonthDate(endDate)), React.createElement(Text, {\n        style: {\n          fontSize: width * 0.09,\n          color: 'white',\n          fontWeight: 'bold'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 49\n        }\n      }, \"\\u661F\\u671F\", this.state.days[endDate.getDay()]))), React.createElement(Text, {\n        style: {\n          color: 'rgba(0,0,0,0.4)',\n          fontSize: width * 0.1,\n          textAlign: 'right'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 41\n        }\n      }, \"\\u7D50\\u675F\"))), React.createElement(View, {\n        style: {\n          flex: 1,\n          width: '100%',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 29\n        }\n      }, React.createElement(TextInput, {\n        key: request_id,\n        editable: access_mode !== 'read',\n        placeholder: \"\\u5099\\u8A3B\",\n        placeholderTextColor: \"grey\",\n        multiline: true,\n        scrollEnabled: false,\n        value: note,\n        style: {\n          width: '100%',\n          height: scrollHeight,\n          backgroundColor: '#eaf8f8',\n          borderRadius: 3,\n          fontSize: 25,\n          paddingTop: 20,\n          paddingBottom: 20,\n          paddingHorizontal: 20,\n          textAlignVertical: 'center'\n        },\n        onChangeText: function onChangeText(note) {\n          return _this5.setState({\n            note: note\n          });\n        },\n        onChange: function onChange(e) {\n          return _this5.setScrollHeight(e.target.scrollHeight);\n        },\n        onLayout: function onLayout(event) {\n          var scrollHeight = event.nativeEvent.target.scrollHeight;\n\n          _this5.setState({\n            scrollHeight: scrollHeight\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 33\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 1,\n          width: '100%',\n          alignItems: 'center',\n          flexDirection: 'row',\n          justifyContent: 'space-between'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 635,\n          columnNumber: 29\n        }\n      }, React.createElement(TouchableOpacity, {\n        disabled: access_mode === 'read',\n        style: {\n          flex: 1,\n          paddingVertical: 15,\n          justifyContent: 'center'\n        },\n        underlayColor: \"transparent\",\n        onClick: function onClick() {\n          if (access_mode === 'read') return;\n\n          _this5.setState({\n            absence_time: 'all_day'\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          width: '90%',\n          fontSize: 25,\n          backgroundColor: absence_time === 'all_day' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n          color: absence_time === 'all_day' ? 'white' : 'black',\n          padding: 15,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 37\n        }\n      }, \"\\u5168\\u5929\")), React.createElement(TouchableOpacity, {\n        disabled: access_mode === 'read',\n        style: {\n          flex: 1,\n          paddingVertical: 10,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        underlayColor: \"transparent\",\n        onClick: function onClick() {\n          if (access_mode === 'read') return;\n\n          _this5.setState({\n            absence_time: 'morning'\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          width: '90%',\n          fontSize: 25,\n          backgroundColor: absence_time === 'morning' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n          color: absence_time === 'morning' ? 'white' : 'black',\n          padding: 15,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 685,\n          columnNumber: 37\n        }\n      }, \"\\u65E9\\u4E0A\")), React.createElement(TouchableOpacity, {\n        disabled: access_mode === 'read',\n        style: {\n          flex: 1,\n          paddingVertical: 10,\n          justifyContent: 'center',\n          alignItems: 'flex-end'\n        },\n        underlayColor: \"transparent\",\n        onClick: function onClick() {\n          if (access_mode === 'read') return;\n\n          _this5.setState({\n            absence_time: 'evening'\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 699,\n          columnNumber: 33\n        }\n      }, React.createElement(Text, {\n        style: {\n          width: '90%',\n          fontSize: 25,\n          backgroundColor: absence_time === 'evening' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n          color: absence_time === 'evening' ? 'white' : 'black',\n          padding: 15,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 713,\n          columnNumber: 37\n        }\n      }, \"\\u4E0B\\u5348\"))), React.createElement(View, {\n        style: {\n          marginVertical: 20,\n          width: '100%',\n          flexDirection: 'row',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 29\n        }\n      }, access_mode !== 'edit' ? React.createElement(TouchableOpacity, {\n        style: {\n          width: '100%',\n          padding: 20,\n          justifyContent: 'center',\n          backgroundColor: 'rgba(0,0,0,0.1)'\n        },\n        onClick: function onClick() {\n          return _this5.handleClickConfirmButton();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 739,\n          columnNumber: 37\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 749,\n          columnNumber: 41\n        }\n      }, access_mode === 'read' ? '編輯' : access_mode === 'create' ? '新增' : null)) : access_mode === 'edit' ? React.createElement(View, {\n        style: {\n          width: '100%',\n          flex: 1,\n          flexDirection: 'row'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 759,\n          columnNumber: 41\n        }\n      }, React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          paddingVertical: 20,\n          paddingHorizontal: 10,\n          justifyContent: 'center',\n          backgroundColor: '#fa625f'\n        },\n        onClick: function onClick() {\n          return _this5.deleteRequestConfirm();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 771,\n          columnNumber: 49\n        }\n      }, \"\\u522A\\u9664\")), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          paddingVertical: 20,\n          paddingHorizontal: 10,\n          justifyContent: 'center',\n          backgroundColor: 'rgba(0,0,0,0.1)'\n        },\n        onClick: function onClick() {\n          return _this5.setState({\n            access_mode: 'read'\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 774,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 20,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 785,\n          columnNumber: 49\n        }\n      }, \"\\u53D6\\u6D88\\u7DE8\\u8F2F\")), React.createElement(TouchableOpacity, {\n        style: {\n          flex: 1,\n          paddingVertical: 20,\n          paddingHorizontal: 10,\n          justifyContent: 'center',\n          backgroundColor: '#00c07f'\n        },\n        onClick: function onClick() {\n          return _this5.handleClickConfirmButton();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 788,\n          columnNumber: 45\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25,\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 799,\n          columnNumber: 49\n        }\n      }, \"\\u9001\\u51FA\"))) : null)));\n    }\n  }]);\n\n  return AbsenceExcuse;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  dateContainer: {\n    flex: 1,\n    width: '35%',\n    justifyContent: 'center'\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    isConnected: state.parent.isConnected\n  };\n};\n\nexport default connect(mapStateToProps, null, null, {\n  forwardRef: true\n})(AbsenceExcuse);","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/parent/absenceexcuse.js"],"names":["React","formatDate","beautifyMonthDate","PickerComponent","TimeModal","ENV","connect","Dimensions","get","width","height","options","value","label","AbsenceExcuse","props","handleSelectStatus","excuse_type","setState","showSelect","editing_other_option","state","max_date","Date","setDate","getDate","cached_date","startDate","endDate","show_start_date_picker","show_end_date_picker","childIsSick","days","months","access_mode","note","absence_time","scrollHeight","request_id","setStartDate","bind","setEndDate","setChildNotSick","setChildSick","onValueChange","sendAbsenceNote","prevProps","request","id","date","Platform","OS","iosSetStartDate","androidSetStartDate","undefined","checkUniqueStudentDate","iosSetEndDate","androidSetEndDate","oneDay","Math","round","abs","editAbsenceNote","student_id","class_id","school_id","isConnected","request_body","alert","fetch","method","headers","Accept","body","JSON","stringify","then","res","json","resJson","statusCode","message","data","onCreateRequestSuccess","catch","err","confirmed","confirm","deleteRequest","onDeleteRequestSuccess","marginTop","padding","alignItems","map","option","index","backgroundColor","borderWidth","borderColor","fontSize","paddingHorizontal","paddingVertical","flexDirection","flex","justifyContent","borderTopLeftRadius","borderBottomLeftRadius","color","textAlign","borderTopRightRadius","borderBottomRightRadius","editorOnBlur","alignSelf","fontWeight","getFullYear","getMonth","getDay","getDayDifference","borderRadius","paddingTop","paddingBottom","textAlignVertical","e","setScrollHeight","target","event","nativeEvent","marginVertical","handleClickConfirmButton","deleteRequestConfirm","Component","styles","StyleSheet","create","dateContainer","mapStateToProps","parent","forwardRef"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { \n    View, \n    Text,\n    Platform,\n    StyleSheet,\n    TouchableOpacity,\n    TextInput,\n    Dimensions } from 'react-native'\nimport { formatDate, beautifyMonthDate } from '../util'\nimport PickerComponent from '../picker'\nimport TimeModal from './timemodal'\nimport ENV from '../../variables'\nimport { connect } from 'react-redux'\n\nconst { width, height } = Dimensions.get('window')\n\nconst options = [\n    { value: \"感冒\", label: \"感冒\" },\n    { value: '流感', label: '流感' },\n    { value: '腸病毒', label: '腸病毒' },\n    { value: '水痘', label: '水痘' },\n    { value: '腸胃炎', label: '腸胃炎' },\n    { value: '其他', label: '其他' },\n    { value: 'Cancel', label: '返回' }\n]\n\nclass AbsenceExcuse extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            max_date: (new Date()).setDate((new Date()).getDate() + 30),\n            cached_date: null,\n            startDate: new Date(),\n            endDate: new Date(),\n            show_start_date_picker: false,\n            show_end_date_picker: false,\n            showSelect: false,\n            childIsSick: 0,\n            excuse_type: 'none-medical',\n            editing_other_option: false,\n            days: ['天', '一', '二', '三', '四', '五', '六'],\n            months: ['一', '二', '三', '四', '五', '六', '七', '八', '九', '十', '十一', '十二'],\n            access_mode: 'create',\n            note: '',\n            absence_time: 'all_day',\n            scrollHeight: '100%',\n            request_id: ''\n        }\n        this.setStartDate = this.setStartDate.bind(this)\n        this.setEndDate = this.setEndDate.bind(this)\n        this.setChildNotSick = this.setChildNotSick.bind(this)\n        this.setChildSick = this.setChildSick.bind(this)\n        this.onValueChange = this.onValueChange.bind(this)\n        this.sendAbsenceNote = this.sendAbsenceNote.bind(this)\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.request !== this.props.request) {\n            const { request } = this.props\n            if (!request) {\n                this.setState({\n                    startDate: new Date(),\n                    endDate: new Date(),\n                    childIsSick: 0,\n                    excuse_type: 'none-medical',\n                    note: '',\n                    absence_time: 'all_day',\n                    access_mode: 'create',\n                    cached_date: null,\n                    scrollHeight: '100%',\n                    request_id: ''\n                })\n                return\n            }\n            const { id, date, excuse_type, note, absence_time } = request\n            this.setState({\n                startDate: date,\n                endDate: null,\n                childIsSick: excuse_type === 'none-medical' ? 0 : 1,\n                excuse_type,\n                note,\n                absence_time,\n                access_mode: 'read',\n                cached_date: null,\n                request_id: id\n            })\n        }\n    }\n\n    isIOS() {\n        return Platform.OS === 'ios'\n    }\n\n    fetchAccessMode() {\n        return this.state.access_mode\n    }\n\n    showSelect() {\n        this.setState({ childIsSick: 1, showSelect: true })\n    }\n\n    setChildSick () {\n        this.setState({ childIsSick: 1 })\n    }\n    \n    setChildNotSick () {\n        const { access_mode } = this.state\n        if (access_mode === 'read') return\n        this.setState({ childIsSick: 0, excuse_type: 'none-medical' })\n    }\n\n    handleSelectStatus = (excuse_type) => {\n        if (excuse_type === 'Cancel') {\n            this.setState({\n                showSelect: false\n            })\n        } else if (excuse_type === '其他') {\n            this.setState({\n                editing_other_option: true,\n                excuse_type: '其他',\n                showSelect: false\n            })\n        } else {\n            this.setState({\n                excuse_type,\n                showSelect: false\n            })\n        }\n    }\n\n    editorOnBlur() {\n        const { excuse_type } = this.state\n        this.setState({\n            editing_other_option: false,\n            childIsSick: excuse_type === '' ? 0 : 1,\n            excuse_type: excuse_type === '' ? 'none-medical' : excuse_type\n        })\n    }\n\n    setStartDate(date) {\n        if (Platform.OS === 'ios') {\n            this.iosSetStartDate(date)\n        } else { //android\n            this.androidSetStartDate(date)\n        }\n    }\n\n    iosSetStartDate(date) {\n        const { endDate } = this.state\n        if (this.state.access_mode === 'edit') {\n            const { cached_date, startDate } = this.state\n            this.setState({\n                cached_date: cached_date === null ? startDate : cached_date,\n                startDate: date\n            })\n        } else {\n            this.setState({\n                startDate: date,\n                endDate: date < endDate ? endDate : date\n            })\n        }\n    }\n\n    androidSetStartDate(date) {\n        if (date !== undefined) {\n            const { endDate } = this.state\n            if (this.state.access_mode === 'edit') {\n                const { cached_date, startDate } = this.state\n                const { id } = this.props.request\n                this.setState({\n                    cached_date: cached_date === null ? startDate : cached_date,\n                    startDate: date,\n                    show_start_date_picker: false\n                })\n                this.props.checkUniqueStudentDate(id, date)\n            } else { // create\n                this.setState({\n                    startDate: date,\n                    endDate: date < endDate ? endDate : date,\n                    show_start_date_picker: false\n                })\n            }\n        } else {\n            this.setState({ show_start_date_picker: false })\n        }\n    }\n\n    onEndEditingStartDate() {\n        const {startDate } = this.state\n        if (this.state.access_mode === 'edit') {\n            const { id } = this.props.request\n            this.props.checkUniqueStudentDate(id, startDate)\n        }\n\n        this.setState({ show_start_date_picker: false })\n    }\n\n    duplicateDateFound() {\n        const { cached_date } = this.state\n        this.setState({\n            startDate: cached_date,\n            cached_date: null\n        })\n    }\n\n    setEndDate(date) {\n        if (Platform.OS === 'ios') {\n            this.iosSetEndDate(date)\n        } else { //android\n            this.androidSetEndDate(date)\n        }\n    }\n\n    iosSetEndDate (date) {\n        const { startDate } = this.state\n        this.setState({\n            startDate: date < startDate ? date : startDate,\n            endDate: date\n        })\n    }\n\n    androidSetEndDate(date) {\n        if (date !== undefined) {\n            const { startDate } = this.state\n            this.setState({\n                startDate: date < startDate ? date : startDate,\n                endDate: date,\n                show_end_date_picker: false\n            })\n        } else {\n            this.setState({ show_end_date_picker: false })\n        }\n    }\n\n    getDayDifference() {\n        const { startDate, endDate } = this.state\n        const oneDay = 24 * 60 * 60 * 1000;\n        return Math.round(Math.abs((endDate - startDate) / (oneDay))) + 1\n    }\n\n    onValueChange (value) {\n        this.setState({ excuse_type: value })\n    }\n\n    setScrollHeight(scrollHeight) {\n        this.setState({ scrollHeight })\n    }\n\n    handleClickConfirmButton() {\n        const { access_mode } = this.state\n        if (access_mode === 'read') {\n            this.setState({\n                access_mode: 'edit'\n            })\n        } else if (access_mode === 'create') {\n            this.sendAbsenceNote()\n        } else if (access_mode === 'edit') {\n            const { id } = this.props.request\n            this.editAbsenceNote(id)\n        }\n    }\n\n    sendAbsenceNote() {\n        const { excuse_type, note, absence_time } = this.state\n        const { student_id, class_id, school_id, isConnected } = this.props\n        const startDate = formatDate(this.state.startDate)\n        const endDate = formatDate(this.state.endDate)\n        const request_body = {\n            student_id,\n            class_id,\n            school_id,\n            startDate,\n            endDate,\n            excuse_type,\n            note,\n            absence_time\n        }\n\n        if (!isConnected) {\n            alert('網路連不到! 請稍後再試試看')\n            return\n        }\n\n        fetch(`https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/${ENV}/absence-excuse`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(request_body)\n        })\n            .then((res) => res.json())\n            .then((resJson) => {\n                const { statusCode, message, data } = resJson\n                if (statusCode > 200 || message === 'Internal server error') {\n                    alert('Sorry 電腦出狀況了！ 請截圖和與工程師聯繫' + message)\n                    return\n                }\n                this.props.onCreateRequestSuccess(data.id)\n            })\n            .catch(err => {\n                alert('Sorry 電腦出狀況了！ 請截圖和與工程師聯繫: error occurred when sending absence request')\n            })\n    }\n\n    editAbsenceNote(request_id) {\n        const { excuse_type, note, absence_time } = this.state\n        const { class_id } = this.props\n        const date = formatDate(this.state.startDate)\n        fetch(`https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/${ENV}/absence-excuse`, {\n            method: 'PUT',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                request_id,\n                excuse_type,\n                note,\n                date,\n                class_id,\n                absence_time\n            })\n        })\n            .then((res) => res.json())\n            .then((resJson) => {\n                const { statusCode, message, data } = resJson\n                if (statusCode > 200 || message === 'Internal server error') {\n                    alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫' + message)\n                    return\n                }\n                this.props.onCreateRequestSuccess(request_id)\n            })\n            .catch(err => {\n                alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when editing absence request')\n            })\n    }\n\n    deleteRequestConfirm() {\n        const confirmed = confirm('確定要刪除？')\n        if (confirmed) {\n            this.deleteRequest()\n        }\n    }\n\n    deleteRequest() {\n        const { id } = this.props.request\n        fetch(`https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/${ENV}/absence-excuse`, {\n            method: 'DELETE',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                request_id: id\n            })\n        })\n            .then((res) => res.json())\n            .then((resJson) => {\n                const { statusCode, message, data } = resJson\n                if (statusCode > 200 || message === 'Internal server error') {\n                    alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫' + message)\n                    return\n                }\n                this.props.onDeleteRequestSuccess(id)\n            })\n            .catch(err => {\n                alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when deleting absence request')\n            })\n    }\n\n    render() {\n        const {\n            max_date,\n            access_mode,\n            startDate,\n            endDate,\n            excuse_type,\n            editing_other_option,\n            note,\n            show_start_date_picker,\n            show_end_date_picker,\n            showSelect,\n            absence_time,\n            scrollHeight,\n            request_id } = this.state\n        if (show_start_date_picker) {\n            return (\n                <View style={{ height, marginTop: -120 }}>\n                    <TimeModal\n                        start_date={startDate}\n                        datetime_type={'date'}\n                        hideModal={() => this.setState({ show_start_date_picker: false })}\n                        selectDatetimeConfirm={(date) => this.setStartDate(date)}\n                        minDatetime={new Date()}\n                        maxDatetime={max_date}\n                        paddingVertical={100}\n                    />\n                </View>\n            )\n        }\n        if (show_end_date_picker) {\n            return (\n                <View style={{ height, marginTop: -120 }}>\n                    <TimeModal\n                        start_date={endDate}\n                        datetime_type={'date'}\n                        hideModal={() => this.setState({ show_end_date_picker: false })}\n                        selectDatetimeConfirm={(date) => this.setEndDate(date)}\n                        minDatetime={new Date()}\n                        maxDatetime={max_date}\n                        paddingVertical={100}\n                    />\n                </View>\n            )\n        }\n        if (showSelect) {\n            return (\n                <View style={{ padding: 30, height: '100%', alignItems: 'center' }}>\n                    {options.map((option, index) => {\n                        const { label, value } = option\n                        return (\n                            <TouchableOpacity\n                                key={index}\n                                style={{ width: '50%', padding: 15, backgroundColor: 'white', borderWidth: 1, borderColor: 'lightgrey' }}\n                                onClick={() => this.handleSelectStatus(value)}\n                            >\n                                <Text style={{ fontSize: 25 }}>{label}</Text>\n                            </TouchableOpacity>\n                        )\n                    })}\n                </View>\n            )\n        }\n        return (\n                    <View style={{ paddingHorizontal: 30, paddingVertical: 30, height: '100%' }}>\n\n                        <View\n                            style={{\n                                // flex: 1,\n                                flexDirection: 'row',\n                                // justifyContent: 'space-evenly',\n                                // alignItems: 'center',\n                            }}\n                        >\n                            <TouchableOpacity\n                                disabled={access_mode === 'read'}\n                                style={{\n                                    flex: 1,\n                                    padding: 15,\n                                    // height: '90%',\n                                    justifyContent: 'center',\n                                    backgroundColor: this.state.childIsSick === 0 ? '#368cbf' : 'rgba(0,0,0,0.1)',\n                                    borderTopLeftRadius: 30,\n                                    borderBottomLeftRadius: 30\n                                }}\n                                underlayColor='#368cbf'\n                                onClick={this.setChildNotSick}>\n                                <Text style={{ fontSize: 25, color: this.state.childIsSick === 0 ? 'white' : 'black', textAlign: 'center' }}>事假</Text>\n                            </TouchableOpacity>\n\n                            {editing_other_option ? \n                                <View\n                                    style={{\n                                        flex: 1,\n                                        padding: 15,\n                                        // height: '90%',\n                                        borderTopRightRadius: 30,\n                                        borderBottomRightRadius: 30,\n                                        justifyContent: 'center',\n                                        backgroundColor: this.state.childIsSick ? '#368cbf' : 'rgba(0,0,0,0.1)'\n                                    }}\n                                >\n                                    <TextInput \n                                        autoFocus={true}\n                                        selectTextOnFocus={true}\n                                        style={{ fontSize: 25, color: this.state.childIsSick ? 'white' : 'black', textAlign: 'center', paddingVertical: -1 }}\n                                        value={excuse_type}\n                                        onChangeText={excuse_type => this.setState({ excuse_type })}\n                                        onBlur={() => this.editorOnBlur()}\n                                    />\n                                </View>\n                                :\n                                <PickerComponent\n                                    style={{\n                                        flex: 1,\n                                        padding: 15,\n                                        // height: '90%',\n                                        borderTopRightRadius: 30,\n                                        borderBottomRightRadius: 30,\n                                        justifyContent: 'center',\n                                        backgroundColor: this.state.childIsSick === 0 ? 'rgba(0,0,0,0.1)' : '#368cbf'\n                                    }}\n                                    disabled={access_mode === 'read'}\n                                    textStyle={{ fontSize: 25, color: this.state.childIsSick ? 'white' : 'black', textAlign: 'center' }}\n                                    selectedValue={excuse_type === 'none-medical' ? '病假' : excuse_type}\n                                    showSelect={() => this.showSelect()}\n                                    // options={[\n                                    //     \"感冒\",\n                                    //     \"流感\",\n                                    //     \"腸病毒\",\n                                    //     \"水痘\",\n                                    //     \"腸胃炎\",\n                                    //     \"其他\",\n                                    //     \"Cancel\"\n                                    // ]}\n                                    handleOnClick={this.setChildSick}\n                                    handleSelectValue={(excuse_type) => this.handleSelectStatus(excuse_type)}\n                                />\n                            }\n                        </View>\n                        <View style={{ width: '100%' }}>\n                            {endDate === null ?\n                                <View\n                                    style={{\n                                        paddingVertical: 20,\n                                        width: '70%',\n                                        alignSelf: 'center'\n                                    }}\n                                >\n                                    <TouchableOpacity\n                                        disabled={access_mode === 'read'}\n                                        style={{ backgroundColor: 'rgba(0,0,0,0.4)' }}\n                                        onClick={() => {\n                                            if (access_mode === 'read') return\n                                            this.setState({ show_start_date_picker: true })\n                                        }}\n                                    >\n                                        <View style={{ padding: 15, justifyContent: 'center' }}>\n                                            <View style={{}}>\n                                                <Text style={{ color: 'white', fontSize: width*0.12, fontWeight: 'bold' }}>\n                                                    {startDate.getFullYear()}\n                                                </Text>\n                                            </View>\n                                            <View style={{}}>\n                                                <Text style={{ color: 'white', fontSize: width*0.12, fontWeight: 'bold' }}>\n                                                    {startDate.getMonth() + 1}/{startDate.getDate()}\n                                                </Text>\n                                            </View>\n                                            <View style={{}}>\n                                                <Text style={{ fontSize: width*0.12, color: 'white', fontWeight: 'bold' }}>\n                                                    星期{this.state.days[startDate.getDay()]}\n                                                </Text>\n                                            </View>\n                                        </View>\n                                    </TouchableOpacity>\n                                </View>\n                                :\n                                <View\n                                    style={{\n                                        // flexDirection: 'row',\n                                        alignItems: 'center',\n                                        paddingVertical: 15\n                                    }}\n                                >\n                                    <View style={{ width: '100%' }}>\n                                        <Text style={{ color: 'rgba(0,0,0,0.4)', fontSize: width*0.1 }}>開始</Text>\n                                        <TouchableOpacity\n                                            style={{ backgroundColor: 'rgba(0,0,0,0.4)', padding: 15 }}\n                                            onClick={() => this.setState({ show_start_date_picker: true })}\n                                        >\n                                            <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\n                                                <Text style={{ color: 'white', fontSize: width*0.09, fontWeight: 'bold' }}>\n                                                    {beautifyMonthDate(startDate)}\n                                                </Text>\n                                                <Text style={{ fontSize: width*0.09, color: 'white', fontWeight: 'bold' }}>\n                                                    星期{this.state.days[startDate.getDay()]}\n                                                </Text>\n                                            </View>\n                                        </TouchableOpacity>\n                                    </View>\n\n                                    <View style={{ width: '100%', alignItems: 'center', justifyContent: 'center', padding: 20 }}>\n                                        <Text style={{ fontSize: 25 }}>\n                                            總計 {this.getDayDifference()} 天\n                                        </Text>\n                                    </View>\n\n                                    <View style={{width: '100%' }}>\n                                        <TouchableOpacity\n                                            style={{ backgroundColor: 'rgba(0,0,0,0.4)', padding: 15 }}\n                                            onClick={() => this.setState({ show_end_date_picker: true })}\n                                        >\n                                            <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\n                                                <Text style={{ color: 'white', fontSize: width*0.09, fontWeight: 'bold' }}>\n                                                    {beautifyMonthDate(endDate)}\n                                                </Text>\n                                                <Text style={{ fontSize: width*0.09, color: 'white', fontWeight: 'bold' }}>\n                                                    星期{this.state.days[endDate.getDay()]}\n                                                </Text>\n                                            </View>\n                                        </TouchableOpacity>\n                                        <Text style={{ color: 'rgba(0,0,0,0.4)', fontSize: width*0.1, textAlign: 'right' }}>結束</Text>\n                                    </View>\n                                </View>\n                            }\n\n                            {/* NOTE */}\n                            <View\n                                style={{ flex: 1,width: '100%', alignItems: 'center' }}\n                            >\n                                <TextInput\n                                    key={request_id}\n                                    editable={access_mode !== 'read'}\n                                    placeholder='備註'\n                                    placeholderTextColor='grey'\n                                    multiline\n                                    // textAlignVertical='center'\n                                    scrollEnabled={false}\n                                    // blurOnSubmit={true}\n                                    value={note}\n                                    style={{\n                                        width: '100%',\n                                        height: scrollHeight,\n                                        backgroundColor: '#eaf8f8',\n                                        borderRadius: 3,\n                                        fontSize: 25,\n                                        paddingTop: 20,\n                                        paddingBottom: 20,\n                                        paddingHorizontal: 20,\n                                        textAlignVertical: 'center'\n                                    }}\n                                    onChangeText={note => this.setState({ note })}\n                                    onChange={(e) => this.setScrollHeight(e.target.scrollHeight)}\n                                    onLayout={(event) => {\n                                        const { scrollHeight } = event.nativeEvent.target\n                                        this.setState({\n                                            scrollHeight\n                                        })\n                                    }}\n                                />\n                            </View>\n\n                            <View\n                                style={{\n                                    flex: 1,\n                                    width: '100%',\n                                    alignItems: 'center',\n                                    flexDirection: 'row',\n                                    justifyContent: 'space-between'\n                                }}\n                            >\n                                <TouchableOpacity\n                                    disabled={access_mode === 'read'}\n                                    style={{\n                                        flex: 1,\n                                        paddingVertical: 15,\n                                        justifyContent: 'center'\n                                    }}\n                                    underlayColor='transparent'\n                                    onClick={() => {\n                                        if (access_mode === 'read') return\n                                        this.setState({ absence_time: 'all_day' })\n                                    }}\n                                >\n                                    <Text \n                                        style={{\n                                            width: '90%',\n                                            fontSize: 25,\n                                            backgroundColor: absence_time === 'all_day' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n                                            color: absence_time === 'all_day' ? 'white' : 'black',\n                                            padding: 15,\n                                            textAlign: 'center'\n                                        }}\n                                    >\n                                        全天\n                                    </Text>\n                                </TouchableOpacity>\n\n                                <TouchableOpacity\n                                    disabled={access_mode === 'read'}\n                                    style={{\n                                        flex: 1,\n                                        paddingVertical: 10,\n                                        justifyContent: 'center',\n                                        alignItems: 'center'\n                                    }}\n                                    underlayColor='transparent'\n                                    onClick={() => {\n                                        if (access_mode === 'read') return\n                                        this.setState({ absence_time: 'morning' })\n                                    }}\n                                >\n                                    <Text \n                                        style={{\n                                            width: '90%',\n                                            fontSize: 25,\n                                            backgroundColor: absence_time === 'morning' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n                                            color: absence_time === 'morning' ? 'white' : 'black',\n                                            padding: 15,\n                                            textAlign: 'center'\n                                        }}\n                                    >\n                                        早上\n                                    </Text>\n                                </TouchableOpacity>\n\n                                <TouchableOpacity\n                                    disabled={access_mode === 'read'}\n                                    style={{\n                                        flex: 1,\n                                        paddingVertical: 10,\n                                        justifyContent: 'center',\n                                        alignItems: 'flex-end'\n                                    }}\n                                    underlayColor='transparent'\n                                    onClick={() => {\n                                        if (access_mode === 'read') return\n                                        this.setState({ absence_time: 'evening' })\n                                    }}\n                                >\n                                    <Text \n                                        style={{\n                                            width: '90%',\n                                            fontSize: 25,\n                                            backgroundColor: absence_time === 'evening' ? '#368cbf' : 'rgba(0,0,0,0.1)',\n                                            color: absence_time === 'evening' ? 'white' : 'black',\n                                            padding: 15,\n                                            textAlign: 'center'\n                                        }}\n                                    >\n                                        下午\n                                    </Text>\n                                </TouchableOpacity>\n                            </View>\n                            \n                            <View\n                                style={{\n                                    marginVertical: 20,\n                                    width: '100%',\n                                    flexDirection: 'row',\n                                    // padding: 10,\n                                    alignItems: 'center',\n                                    justifyContent: 'center'\n                                }}\n                            >\n                                {access_mode !== 'edit' ?\n                                    <TouchableOpacity\n                                        style={{\n                                            // height: '80%',\n                                            width: '100%',\n                                            padding: 20,\n                                            justifyContent: 'center',\n                                            backgroundColor: 'rgba(0,0,0,0.1)'\n                                        }}\n                                        onClick={() => this.handleClickConfirmButton()}\n                                    >\n                                        <Text style={{ fontSize: 25, textAlign: 'center' }}>\n                                            {access_mode === 'read' ?\n                                                '編輯'\n                                                : access_mode === 'create' ?\n                                                    '新增'\n                                                    : null\n                                            }\n                                        </Text>\n                                    </TouchableOpacity>\n                                    : access_mode === 'edit' ?\n                                        <View style={{ width: '100%', flex: 1, flexDirection: 'row' }}>\n                                            <TouchableOpacity\n                                                style={{\n                                                    // height: '80%',\n                                                    flex: 1,\n                                                    paddingVertical: 20,\n                                                    paddingHorizontal: 10,\n                                                    justifyContent: 'center',\n                                                    backgroundColor: '#fa625f'\n                                                }}\n                                                onClick={() => this.deleteRequestConfirm()}\n                                            >\n                                                <Text style={{ fontSize: 25, textAlign: 'center' }}>刪除</Text>\n                                            </TouchableOpacity>\n\n                                            <TouchableOpacity\n                                                style={{\n                                                    // height: '80%',\n                                                    flex: 1,\n                                                    paddingVertical: 20,\n                                                    paddingHorizontal: 10,\n                                                    justifyContent: 'center',\n                                                    backgroundColor: 'rgba(0,0,0,0.1)'\n                                                }}\n                                                onClick={() => this.setState({ access_mode: 'read'})}\n                                            >\n                                                <Text style={{ fontSize: 20, textAlign: 'center' }}>取消編輯</Text>\n                                            </TouchableOpacity>\n\n                                            <TouchableOpacity\n                                                style={{\n                                                    // height: '80%',\n                                                    flex: 1,\n                                                    paddingVertical: 20,\n                                                    paddingHorizontal: 10,\n                                                    justifyContent: 'center',\n                                                    backgroundColor: '#00c07f'\n                                                }}\n                                                onClick={() => this.handleClickConfirmButton()}\n                                            >\n                                                <Text style={{ fontSize: 25, textAlign: 'center' }}>送出</Text>\n                                            </TouchableOpacity>\n                                        </View>\n                                        : null\n                                }\n                            </View>\n                        </View>\n                    </View>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    dateContainer: {\n        flex: 1,\n        width: '35%',\n        justifyContent: 'center'\n    }\n})\n\nconst mapStateToProps = (state) => {\n    return {\n        isConnected: state.parent.isConnected\n    }\n}\n\nexport default connect(mapStateToProps, null, null, { forwardRef: true }) (AbsenceExcuse)"]},"metadata":{},"sourceType":"module"}