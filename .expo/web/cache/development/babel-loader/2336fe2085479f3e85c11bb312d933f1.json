{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/caleb_lee/gina_web_app/components/teacher/teachermodal.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { Toast } from 'native-base';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport WellnessForm from \"./wellnessform\";\nimport { sendWellnessData, formatDate, post, formatTime, put } from \"../util\";\nimport { markPresent, sendWellnessDataFail, editTeacherOnDuty } from \"../../redux/school/actions/index\";\n\nvar TeacherModal = function (_React$Component) {\n  _inherits(TeacherModal, _React$Component);\n\n  var _super = _createSuper(TeacherModal);\n\n  function TeacherModal(props) {\n    var _this;\n\n    _classCallCheck(this, TeacherModal);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      temperature: ''\n    };\n    return _this;\n  }\n\n  _createClass(TeacherModal, [{\n    key: \"editTemperature\",\n    value: function editTemperature(temperature) {\n      var normalized_temperature = temperature.slice(-1) === '.' ? temperature.slice(0, 2) : temperature.length === 3 ? temperature.slice(0, 2) + '.' + temperature.slice(-1) : temperature;\n      this.setState({\n        temperature: normalized_temperature\n      });\n    }\n  }, {\n    key: \"clock\",\n    value: function clock() {\n      var _this$props = this.props,\n          isConnected = _this$props.isConnected,\n          teacher_id = _this$props.teacher_id,\n          teachers = _this$props.teachers;\n      var teacher = teachers[teacher_id];\n\n      if (!isConnected) {\n        Toast.show({\n          text: '拍謝 網路連不到! 等一下再試試看',\n          buttonText: 'Okay',\n          position: \"top\",\n          type: \"warning\",\n          duration: 2000\n        });\n        return;\n      }\n\n      if (teacher.present) {\n        var attendance_id = teacher.attendance[teacher.attendance.length - 1];\n        this.clockout(attendance_id);\n      } else {\n        this.clockin();\n      }\n    }\n  }, {\n    key: \"clockout\",\n    value: function clockout(attendance_id) {\n      var response, success, statusCode, message, data;\n      return _regeneratorRuntime.async(function clockout$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(put(\"/staff-attendance/\" + attendance_id, {\n                out_time: formatDate(new Date()) + ' ' + formatTime(new Date())\n              }));\n\n            case 2:\n              response = _context.sent;\n              success = response.success, statusCode = response.statusCode, message = response.message, data = response.data;\n\n              if (!success) {\n                Alert.alert('Sorry 打卡時電腦出狀況了！', '請截圖和與工程師聯繫\\n\\n' + message, [{\n                  text: 'Ok'\n                }]);\n              }\n\n              this.props.fetchTeacherAttendance();\n              this.props.hideModal();\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"clockin\",\n    value: function clockin() {\n      var _this$props2, isConnected, teacher_id, temperature, response, success, statusCode, message, data;\n\n      return _regeneratorRuntime.async(function clockin$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$props2 = this.props, isConnected = _this$props2.isConnected, teacher_id = _this$props2.teacher_id;\n              temperature = this.state.temperature;\n\n              if (!isConnected) {\n                Toast.show({\n                  text: '拍謝 網路連不到! 等一下再試試看',\n                  buttonText: 'Okay',\n                  position: \"top\",\n                  type: \"warning\",\n                  duration: 2000\n                });\n              }\n\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(post('/staff-attendance', {\n                teacher_id: teacher_id,\n                in_time: formatDate(new Date()) + ' ' + formatTime(new Date()),\n                temperature: temperature ? temperature : 0\n              }));\n\n            case 5:\n              response = _context2.sent;\n              success = response.success, statusCode = response.statusCode, message = response.message, data = response.data;\n\n              if (success) {\n                _context2.next = 10;\n                break;\n              }\n\n              Alert.alert('Sorry 打卡時電腦出狀況了！', '請截圖和與工程師聯繫\\n\\n' + message, [{\n                text: 'Ok'\n              }]);\n              return _context2.abrupt(\"return\");\n\n            case 10:\n              this.props.fetchTeacherAttendance();\n              this.props.hideModal();\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"editTeacherOnDuty\",\n    value: function editTeacherOnDuty(teacher_id) {\n      var _this$props3 = this.props,\n          teacherOnDuty = _this$props3.teacherOnDuty,\n          teachers = _this$props3.teachers;\n      var name = '未登入';\n\n      if (teacherOnDuty === teacher_id) {\n        this.props.editTeacherOnDuty('');\n      } else {\n        this.props.editTeacherOnDuty(teacher_id);\n        name = teachers[teacher_id].name;\n      }\n\n      this.props.navigation.setOptions({\n        headerRight: function headerRight() {\n          return React.createElement(View, {\n            style: {\n              paddingRight: 20\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 13\n            }\n          }, React.createElement(Text, {\n            style: {\n              fontSize: 30\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 17\n            }\n          }, \"\\u503C\\u73ED\\u8001\\u5E2B\\uFF1A\" + name));\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props4 = this.props,\n          show = _this$props4.show,\n          student_id = _this$props4.student_id,\n          teacher_id = _this$props4.teacher_id,\n          teachers = _this$props4.teachers,\n          unmarked = _this$props4.unmarked,\n          absent = _this$props4.absent,\n          teacherOnDuty = _this$props4.teacherOnDuty,\n          attendance = _this$props4.attendance;\n      var temperature = this.state.temperature;\n      var teacher = teachers[teacher_id];\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          width: '80%',\n          height: '70%',\n          backgroundColor: absent.has(teacher_id) ? '#ffe1d0' : unmarked.has(teacher_id) ? '#fff1b5' : '#dcf3d0',\n          zIndex: 3,\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 3,\n          flexDirection: 'row',\n          justifyContent: 'space-evenly',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: teacher.profile_picture === '' ? require(\"../../assets/icon-teacher-thumbnail.png\") : {\n          uri: teacher.profile_picture\n        },\n        style: styles.thumbnailImage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 15\n        }\n      }), React.createElement(TextInput, {\n        style: {\n          fontSize: 60\n        },\n        keyboardType: \"decimal-pad\",\n        placeholder: \"\\u9AD4\\u6EAB\",\n        value: '' + temperature,\n        onChangeText: function onChangeText(temperature) {\n          return _this2.editTemperature(temperature);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 60\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 15\n        }\n      }, teacher.name), React.createElement(TouchableHighlight, {\n        onPress: function onPress() {\n          return _this2.editTeacherOnDuty(teacher_id);\n        },\n        underlayColor: \"transparent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }, React.createElement(Image, {\n        source: teacherOnDuty === teacher_id ? require(\"../../assets/icon-checked-box.png\") : require(\"../../assets/icon-unchecked-box.png\"),\n        style: {\n          width: 80,\n          aspectRatio: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 19\n        }\n      }), React.createElement(Text, {\n        style: {\n          fontSize: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 19\n        }\n      }, \"\\u503C\\u73ED\\u8001\\u5E2B\"))))), React.createElement(View, {\n        style: {\n          flex: 2,\n          paddingHorizontal: 30,\n          justifyContent: 'space-evenly',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }\n      }, teacher.attendance && teacher.attendance.map(function (attendance_id) {\n        var record = attendance[attendance_id];\n        return React.createElement(View, {\n          key: attendance_id,\n          style: {\n            flex: 1,\n            flexDirection: 'row',\n            width: '60%',\n            justifyContent: 'space-around'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }\n        }, React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 50\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }\n        }, record.in_time)), React.createElement(View, {\n          style: {\n            flex: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 19\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 50\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 21\n          }\n        }, record.out_time)));\n      }), React.createElement(View, {\n        style: {\n          flexDirection: 'row',\n          alignSelf: 'flex-end',\n          backgroundColor: 'white',\n          padding: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 25\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }\n      }, \"\\u4ECA\\u65E5\\u7E3D\\u8A08: \", Math.round(teacher.total_minutes * 100) / 100))), React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          flex: 1,\n          flexDirection: 'row',\n          alignItems: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableHighlight, {\n        style: {\n          backgroundColor: 'red',\n          flex: 1,\n          height: 80,\n          justifyContent: 'center',\n          alignItems: 'center',\n          margin: 8\n        },\n        onPress: this.props.hideModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 19\n        }\n      }, \"\\u53D6\\u6D88\")), React.createElement(TouchableHighlight, {\n        style: {\n          backgroundColor: 'grey',\n          flex: 1,\n          height: 80,\n          justifyContent: 'center',\n          alignItems: 'center',\n          margin: 8\n        },\n        onPress: function onPress() {\n          return _this2.clock();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 40\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 19\n        }\n      }, \"\\u6253\\u5361\")))));\n    }\n  }]);\n\n  return TeacherModal;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  thumbnailImage: {\n    width: 200,\n    height: 200,\n    borderRadius: 100\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    attendance: state.school.attendance,\n    teachers: state.school.teachers,\n    teacherOnDuty: state.school.teacherOnDuty,\n    unmarked: state.school.teacher_unmarked,\n    absent: state.school.teacher_absent,\n    isConnected: state.school.isConnected\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return _objectSpread({}, bindActionCreators({\n    markPresent: markPresent,\n    sendWellnessDataFail: sendWellnessDataFail,\n    editTeacherOnDuty: editTeacherOnDuty\n  }, dispatch));\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeacherModal);","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/teacher/teachermodal.js"],"names":["React","Toast","connect","bindActionCreators","WellnessForm","sendWellnessData","formatDate","post","formatTime","put","markPresent","sendWellnessDataFail","editTeacherOnDuty","TeacherModal","props","state","temperature","normalized_temperature","slice","length","setState","isConnected","teacher_id","teachers","teacher","show","text","buttonText","position","type","duration","present","attendance_id","attendance","clockout","clockin","out_time","Date","response","success","statusCode","message","data","Alert","alert","fetchTeacherAttendance","hideModal","in_time","teacherOnDuty","name","navigation","setOptions","headerRight","paddingRight","fontSize","student_id","unmarked","absent","flex","width","height","backgroundColor","has","zIndex","flexDirection","justifyContent","alignItems","profile_picture","require","uri","styles","thumbnailImage","editTemperature","aspectRatio","paddingHorizontal","map","record","alignSelf","padding","Math","round","total_minutes","margin","clock","Component","StyleSheet","create","borderRadius","mapStateToProps","school","teacher_unmarked","teacher_absent","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Image, Text, TouchableHighlight, StyleSheet, KeyboardAvoidingView, Alert, TextInput } from 'react-native'\nimport { Toast } from 'native-base'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport WellnessForm from './wellnessform'\nimport { sendWellnessData, formatDate, post, formatTime, put } from '../util'\nimport { markPresent, sendWellnessDataFail, editTeacherOnDuty } from '../../redux/school/actions/index'\n\nclass TeacherModal extends React.Component{\n  constructor(props) {\n    super(props)\n    this.state={\n        temperature: ''\n    }\n  }\n\n  editTemperature(temperature) {\n    const normalized_temperature = \n      temperature.slice(-1) === '.' ?\n        temperature.slice(0,2)\n        :\n      temperature.length === 3 ? \n        temperature.slice(0,2) + '.' + temperature.slice(-1)\n        : temperature\n      this.setState({ temperature: normalized_temperature })\n  }\n\n  clock() {\n    const { isConnected, teacher_id, teachers } = this.props\n    const teacher = teachers[teacher_id]\n\n    if (!isConnected) {\n      Toast.show({\n          text: '拍謝 網路連不到! 等一下再試試看',\n          buttonText: 'Okay',\n          position: \"top\",\n          type: \"warning\",\n          duration: 2000\n      })\n      return\n    }\n\n    if (teacher.present) {\n      const attendance_id = teacher.attendance[teacher.attendance.length - 1]\n      this.clockout(attendance_id)\n    } else {\n      this.clockin()\n    }\n  }\n\n  async clockout(attendance_id) {\n    const response = await put(`/staff-attendance/${attendance_id}`, {\n      out_time: formatDate(new Date()) + ' ' + formatTime(new Date())\n  })\n    const { success, statusCode, message, data } = response\n    if (!success) {\n      Alert.alert(\n        'Sorry 打卡時電腦出狀況了！',\n        '請截圖和與工程師聯繫\\n\\n' + message,\n        [{ text: 'Ok' }]\n      )\n    }\n\n    this.props.fetchTeacherAttendance()\n    this.props.hideModal()\n  }\n\n  async clockin() {\n    const { isConnected, teacher_id } = this.props\n    const { temperature } = this.state\n\n    if (!isConnected) {\n        Toast.show({\n            text: '拍謝 網路連不到! 等一下再試試看',\n            buttonText: 'Okay',\n            position: \"top\",\n            type: \"warning\",\n            duration: 2000\n        })\n    }\n\n    const response = await post('/staff-attendance', {\n        teacher_id,\n        in_time: formatDate(new Date()) + ' ' + formatTime(new Date()),\n        temperature: temperature ? temperature : 0\n    })\n\n    const { success, statusCode, message, data } = response\n    if (!success) {\n        Alert.alert(\n            'Sorry 打卡時電腦出狀況了！',\n            '請截圖和與工程師聯繫\\n\\n' + message,\n            [{ text: 'Ok' }]\n        )\n        return \n    }\n    this.props.fetchTeacherAttendance()\n    this.props.hideModal()\n  }\n\n  editTeacherOnDuty(teacher_id) {\n    const { teacherOnDuty, teachers } = this.props\n    var name = '未登入'\n    if (teacherOnDuty === teacher_id) {\n      this.props.editTeacherOnDuty('')\n    } else {\n      this.props.editTeacherOnDuty(teacher_id)\n      name = teachers[teacher_id].name\n    }\n    \n    this.props.navigation.setOptions({ \n        headerRight: () => (\n            <View style={{ paddingRight: 20 }}>\n                <Text style={{ fontSize: 30 }}>{`值班老師：${name}`}</Text>\n            </View>\n        )\n    })\n  }\n\n  // getTotalTime(record) {\n  //   const { teacher_id, teachers, attendance } = this.props\n  //   let total_hour = 0\n  //   let total_min = 0\n  //   for(var i = 0; i < teachers[teacher_id].attendance.length; i++){\n  //     const { in_time, out_time } = attendance[teachers[teacher_id].attendance[i]]\n  //     total_hour += parseInt(in_time)\n  //     total_min +=\n  //   }\n  // }\n\n  render() {\n    const { show, student_id, teacher_id, teachers, unmarked, absent, teacherOnDuty, attendance } = this.props\n    const { temperature } = this.state\n    const teacher = teachers[teacher_id]\n    // console.log('teacher: ', teacher)\n    // const { wellness } = this.props\n    // const record_id = wellness.by_student_id[student_id][0]\n    // TODO: temperature\n    return (\n        <View\n          style={{\n            flex: 1,\n            width: '80%',\n            height: '70%',\n            backgroundColor:\n              absent.has(teacher_id) ? '#ffe1d0'\n                : unmarked.has(teacher_id) ? '#fff1b5'\n                : '#dcf3d0',\n            zIndex: 3,\n            position: 'absolute'\n          }}\n        >\n          <View style={{ flex: 3, flexDirection: 'row', justifyContent: 'space-evenly', alignItems: 'center' }}>\n            <View style={{ flex: 1, alignItems: 'center' }}>\n              <Image\n                source={\n                    teacher.profile_picture === '' ?\n                      require('../../assets/icon-teacher-thumbnail.png')\n                      : {uri: teacher.profile_picture }\n              }\n                style={styles.thumbnailImage}\n              />\n              <TextInput\n              style={{ fontSize: 60 }}\n              keyboardType='decimal-pad'\n              placeholder='體溫'\n              value={'' + temperature}\n              onChangeText={(temperature) => this.editTemperature(temperature)}\n          />\n            </View>\n            <View style={{ flex: 1 }}>\n              <Text style={{ fontSize: 60 }}>{teacher.name}</Text>\n              <TouchableHighlight\n                onPress={() => this.editTeacherOnDuty(teacher_id)}\n                underlayColor='transparent'\n              >\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <Image\n                    source={teacherOnDuty === teacher_id ? \n                      require('../../assets/icon-checked-box.png')\n                    : require('../../assets/icon-unchecked-box.png')}\n                    style={{ width: 80, aspectRatio: 1 }}\n                  />\n                  <Text style={{ fontSize: 40 }}>值班老師</Text>\n                </View>\n              </TouchableHighlight>\n            </View>\n          </View>\n          \n          <View style={{ flex: 2, paddingHorizontal: 30, justifyContent: 'space-evenly', alignItems: 'center' }}>\n            {teacher.attendance && teacher.attendance.map((attendance_id) => {\n              const record = attendance[attendance_id]\n              return (\n                <View key={attendance_id} style={{ flex: 1, flexDirection: 'row', width: '60%', justifyContent: 'space-around' }}>\n                  <View style={{ flex: 1 }}>\n                    <Text style={{ fontSize: 50 }}>{record.in_time}</Text>\n                  </View>\n                  <View style={{ flex: 1 }}>\n                    <Text style={{ fontSize: 50 }}>{record.out_time}</Text>\n                  </View>\n                </View>\n              )\n            })}\n\n            {/* <TouchableHighlight\n              style={{ backgroundColor: 'red', flex: 1, height: 60, justifyContent: 'center', alignItems: 'center', margin: 8 }}\n              onPress={() => this.clock()}\n            >\n              <Text style={{ fontSize: 30 }}>打卡</Text>\n            </TouchableHighlight> */}\n            <View style={{ flexDirection: 'row', alignSelf: 'flex-end',  backgroundColor: 'white', padding: 10 }}>\n              <Text style={{ fontSize: 25}}>今日總計: {Math.round(teacher.total_minutes*100) / 100}</Text>\n            </View>\n          </View>\n\n          <View style={{ flex: 1, flexDirection: 'row', alignItems: 'center' }}>\n            {/* {unmarked.has(teacher_id) ? */}\n              <View style={{ flex: 1, flexDirection: 'row', alignItems: 'center' }}>\n                <TouchableHighlight\n                  style={{ backgroundColor: 'red', flex: 1, height: 80, justifyContent: 'center', alignItems: 'center', margin: 8 }}\n                  onPress={this.props.hideModal}\n                >\n                  <Text style={{ fontSize: 40 }}>取消</Text>\n                </TouchableHighlight>\n                <TouchableHighlight\n                  style={{ backgroundColor: 'grey', flex: 1, height: 80, justifyContent: 'center', alignItems: 'center', margin: 8 }}\n                  onPress={() => this.clock()}\n                >\n                  <Text style={{ fontSize: 40 }}>打卡</Text>\n                </TouchableHighlight>\n              </View>\n              {/* : null\n            } */}\n          </View>\n        </View>\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  thumbnailImage: {\n      width: 200,\n      height: 200,\n      borderRadius: 100\n  }\n})\n\nconst mapStateToProps = (state) => {\n  return {\n    // students: state.classInfo.students,\n    attendance: state.school.attendance,\n    teachers: state.school.teachers,\n    teacherOnDuty: state.school.teacherOnDuty,\n    unmarked: state.school.teacher_unmarked,\n    absent: state.school.teacher_absent,\n    // wellness: state.healthstatus,\n    isConnected: state.school.isConnected\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    ...bindActionCreators({markPresent, sendWellnessDataFail, editTeacherOnDuty}, dispatch)\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (TeacherModal)"]},"metadata":{},"sourceType":"module"}