{"ast":null,"code":"import _regeneratorRuntime from\"@babel/runtime/regenerator\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import TextInput from\"react-native-web/dist/exports/TextInput\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import Image from\"react-native-web/dist/exports/Image\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Platform from\"react-native-web/dist/exports/Platform\";import Alert from\"react-native-web/dist/exports/Alert\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import{formatDate,beautifyTime,beautifyMonthDate,post,formatTime}from\"../util\";import TimeModal from\"./timemodal\";import Reloading from\"../reloading\";import ENV from\"../../variables\";import{connect}from'react-redux';var _Dimensions$get=Dimensions.get('window'),width=_Dimensions$get.width;var AddMedicationRequestPage=function(_React$Component){_inherits(AddMedicationRequestPage,_React$Component);var _super=_createSuper(AddMedicationRequestPage);function AddMedicationRequestPage(props){var _this;_classCallCheck(this,AddMedicationRequestPage);_this=_super.call(this,props);_this.state={isLoading:true,request_id:null,today:new Date(),showDateTimeModal:false,datetime_type:'',time_array:[],time_selected_index:null,before_meal:null,powder:false,powder_refrigerated:false,syrup:[],gel:null,other_type:null,note:'',administered:false,teacher_name:'',medicated_timestamp:null,fever_entry:{temperature:'',powder:false,powder_refrigerated:false,syrup:[],other_type:null},data:null,index:-1,access_mode:'create',scrollHeight:'100%',date_array:[],date_selected_index:null};return _this;}_createClass(AddMedicationRequestPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props$route$par=this.props.route.params,index=_this$props$route$par.index,data=_this$props$route$par.data;if(data===null){this.setState({date_array:[new Date()],isLoading:false});return;}this.switchRequest(index);}},{key:\"switchRequest\",value:function switchRequest(index){var data=this.props.route.params.data;var _data$index=data[index],id=_data$index.id,timestamp=_data$index.timestamp,administered=_data$index.administered,fever_entry=_data$index.fever_entry,medication=_data$index.medication,note=_data$index.note,teacher_name=_data$index.teacher_name,medicated_timestamp=_data$index.medicated_timestamp;this.setState(_objectSpread(_objectSpread({index:index,data:data,request_id:id,date_array:[timestamp],time_array:[timestamp]},medication),{},{note:note,fever_entry:fever_entry,administered:administered,teacher_name:teacher_name,medicated_timestamp:medicated_timestamp!==null?new Date(medicated_timestamp):null,access_mode:'read',isLoading:false}));}},{key:\"isIOS\",value:function isIOS(){if(Platform.OS==='ios'){return true;}else return false;}},{key:\"selectDatetimeConfirm\",value:function selectDatetimeConfirm(datetime){var datetime_type=this.state.datetime_type;if(datetime_type==='date'){this.handleDateSelected(datetime);}else{this.handleTimeSelected(datetime);}}},{key:\"handleDateSelected\",value:function handleDateSelected(date){var _this$state=this.state,date_array=_this$state.date_array,date_selected_index=_this$state.date_selected_index;if(date_selected_index!==null){var updated_date_array=[];for(var i=0;i<date_array.length;i++){if(i!==date_selected_index){updated_date_array.push(date_array[i]);}else{updated_date_array.push(date);}}this.setState({date_array:updated_date_array,date_selected_index:null,showDateTimeModal:false});}else{this.setState({date_array:[].concat(_toConsumableArray(date_array),[date]),showDateTimeModal:false});}}},{key:\"handleTimeSelected\",value:function handleTimeSelected(time){var _this$state2=this.state,time_array=_this$state2.time_array,time_selected_index=_this$state2.time_selected_index;if(time_selected_index!==null){var updated_time_array=[];for(var i=0;i<time_array.length;i++){if(i!==time_selected_index){updated_time_array.push(time_array[i]);}else{updated_time_array.push(time);}}this.setState({time_array:updated_time_array,time_selected_index:null,showDateTimeModal:false});}else{this.setState({time_array:[].concat(_toConsumableArray(time_array),[time]),showDateTimeModal:false});}}},{key:\"removeDate\",value:function removeDate(index){var date_array=this.state.date_array;date_array.splice(index,1);this.setState({date_array:date_array});}},{key:\"removeTime\",value:function removeTime(index){var time_array=this.state.time_array;time_array.splice(index,1);this.setState({time_array:time_array});}},{key:\"onSelectSyrup\",value:function onSelectSyrup(){var syrup=this.state.syrup;this.setState({syrup:syrup.length?[]:[{amount:'',need_refrigerated:false,note:''}]});}},{key:\"editSyrupAmountEntry\",value:function editSyrupAmountEntry(amount,index){var syrup=this.state.syrup;syrup[index].amount=amount;this.setState({syrup:syrup});}},{key:\"editSyrupNoteEntry\",value:function editSyrupNoteEntry(note,index){var syrup=this.state.syrup;syrup[index].note=note;this.setState({syrup:syrup});}},{key:\"editSyrupRefrigerationEntry\",value:function editSyrupRefrigerationEntry(need_refrigerated,index){var syrup=this.state.syrup;syrup[index].need_refrigerated=need_refrigerated;this.setState({syrup:syrup});}},{key:\"removeSyrupEntry\",value:function removeSyrupEntry(index){var syrup=this.state.syrup;syrup.splice(index,1);this.setState({syrup:syrup});}},{key:\"onSelectFeverSyrup\",value:function onSelectFeverSyrup(){var fever_entry=this.state.fever_entry;this.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{syrup:fever_entry.syrup.length?[]:[{amount:'',need_refrigerated:false}]})});}},{key:\"editFeverSyrupAmountEntry\",value:function editFeverSyrupAmountEntry(amount,index){var fever_entry=this.state.fever_entry;fever_entry.syrup[index].amount=amount;this.setState({fever_entry:fever_entry});}},{key:\"editFeverSyrupRefrigerationEntry\",value:function editFeverSyrupRefrigerationEntry(need_refrigerated,index){var fever_entry=this.state.fever_entry;fever_entry.syrup[index].need_refrigerated=need_refrigerated;this.setState({fever_entry:fever_entry});}},{key:\"removeFeverSyrupEntry\",value:function removeFeverSyrupEntry(index){var fever_entry=this.state.fever_entry;fever_entry.syrup.splice(index,1);this.setState({fever_entry:fever_entry});}},{key:\"timeIsEmpty\",value:function timeIsEmpty(){var time_array=this.state.time_array;if(time_array.length===0){alert('至少要選擇一個時間！');return true;}return false;}},{key:\"sendRequest\",value:function sendRequest(){var isConnected,_this$props$route$par2,student_id,onGoBack,body,response,success,statusCode,message,data;return _regeneratorRuntime.async(function sendRequest$(_context){while(1){switch(_context.prev=_context.next){case 0:isConnected=this.props.isConnected;if(isConnected){_context.next=4;break;}alert('網路連不到! 請稍後再試試看');return _context.abrupt(\"return\");case 4:_this$props$route$par2=this.props.route.params,student_id=_this$props$route$par2.student_id,onGoBack=_this$props$route$par2.onGoBack;body=this.normalizedData();_context.next=8;return _regeneratorRuntime.awrap(post(\"/medicationrequest/student/\"+student_id,body));case 8:response=_context.sent;success=response.success,statusCode=response.statusCode,message=response.message,data=response.data;if(success){_context.next=13;break;}alert('Sorry 送出托藥單時電腦出狀況了！請截圖和與工程師聯繫\\n\\n'+message);return _context.abrupt(\"return\");case 13:this.setState({access_mode:'read'});onGoBack();this.props.navigation.goBack();case 16:case\"end\":return _context.stop();}}},null,this,null,Promise);}},{key:\"normalizedData\",value:function normalizedData(){var class_id=this.props.route.params.class_id;var _this$state3=this.state,request_id=_this$state3.request_id,date_array=_this$state3.date_array,time_array=_this$state3.time_array,before_meal=_this$state3.before_meal,powder=_this$state3.powder,powder_refrigerated=_this$state3.powder_refrigerated,syrup=_this$state3.syrup,gel=_this$state3.gel,other_type=_this$state3.other_type,note=_this$state3.note,fever_entry=_this$state3.fever_entry;return{request_id:request_id,class_id:class_id,date_array:date_array.map(function(date){return formatDate(date);}),time_array:time_array.map(function(time){return formatTime(time);}),before_meal:before_meal,powder:powder,powder_refrigerated:powder_refrigerated,syrup:syrup,gel:gel===null?gel:gel.trim(),other_type:other_type===null?other_type:other_type.trim(),note:note.trim(),fever_entry:{temperature:fever_entry.temperature,powder:fever_entry.powder,powder_refrigerated:fever_entry.powder_refrigerated,syrup:fever_entry.syrup,other_type:fever_entry.other_type===null?fever_entry.other_type:fever_entry.other_type.trim()}};}},{key:\"editable\",value:function editable(){var date_array=this.state.date_array;var date=date_array[0];var threshold=new Date();threshold.setHours(10,0,0,0);var tomorrow=new Date();tomorrow.setDate(tomorrow.getDate()+1);tomorrow.setHours(0,0,0,0);return date.toDateString()===new Date().toDateString()&&new Date()<threshold||date.getTime()>tomorrow.getTime();}},{key:\"onClickConfirm\",value:function onClickConfirm(){var access_mode=this.state.access_mode;if(access_mode==='create'||access_mode==='edit'){if(this.timeIsEmpty())return;this.sendRequest();}else{this.setState({access_mode:'edit'});}}},{key:\"deleteRequestConfirm\",value:function deleteRequestConfirm(){var request_id=this.state.request_id;var confirmed=confirm('確定要刪除？');if(confirmed){this.deleteRequest(request_id);}}},{key:\"deleteRequest\",value:function deleteRequest(request_id){var _this2=this;var isConnected=this.props.isConnected;if(!isConnected){alert('網路連不到! 請稍後再試試看');return;}var _this$props$route$par3=this.props.route.params,class_id=_this$props$route$par3.class_id,onGoBack=_this$props$route$par3.onGoBack;fetch(\"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/\"+ENV+\"/medicationrequest/\"+request_id,{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify({class_id:class_id})}).then(function(res){return res.json();}).then(function(resJson){var statusCode=resJson.statusCode,message=resJson.message,data=resJson.data;if(statusCode>200||message==='Internal Server Error'){alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫'+message);return;}onGoBack();_this2.props.navigation.goBack();}).catch(function(err){alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when deleting medication request');});}},{key:\"cancelEdit\",value:function cancelEdit(){var index=this.state.index;this.switchRequest(index);}},{key:\"render\",value:function render(){var _this3=this;var _this$state4=this.state,isLoading=_this$state4.isLoading,time_array=_this$state4.time_array,showDateTimeModal=_this$state4.showDateTimeModal,datetime_type=_this$state4.datetime_type,time_selected_index=_this$state4.time_selected_index,before_meal=_this$state4.before_meal,powder=_this$state4.powder,powder_refrigerated=_this$state4.powder_refrigerated,syrup=_this$state4.syrup,gel=_this$state4.gel,other_type=_this$state4.other_type,note=_this$state4.note,fever_entry=_this$state4.fever_entry,administered=_this$state4.administered,teacher_name=_this$state4.teacher_name,medicated_timestamp=_this$state4.medicated_timestamp,data=_this$state4.data,access_mode=_this$state4.access_mode,scrollHeight=_this$state4.scrollHeight,date_array=_this$state4.date_array,date_selected_index=_this$state4.date_selected_index;if(isLoading){return React.createElement(Reloading,null);}return React.createElement(KeyboardAvoidingView,{style:{flex:1,width:'100%',alignItems:'center'},behavior:'padding',enabled:true},showDateTimeModal?React.createElement(TimeModal,{start_date:time_selected_index===null?new Date():time_array[time_selected_index],datetime_type:datetime_type,hideModal:function hideModal(){return _this3.setState({showDateTimeModal:false});},selectDatetimeConfirm:function selectDatetimeConfirm(datetime){return _this3.selectDatetimeConfirm(datetime);},minDatetime:new Date(),maxDatetime:new Date().setDate(new Date().getDate()+7),minTime:new Date().setHours(7,0,0),maxTime:new Date().setHours(20,0,0),paddingVertical:100}):null,React.createElement(ScrollView,{style:{width:'100%'}},data!==null&&data.length>1&&React.createElement(View,{style:{width:'100%'}},React.createElement(ScrollView,{horizontal:true,showsHorizontalScrollIndicator:false},data.map(function(request,index){return React.createElement(View,{key:index,style:{padding:10}},React.createElement(TouchableOpacity,{key:request.id,style:{padding:10,backgroundColor:_this3.state.index===index?'#ffddb7':'rgba(0,0,0,0.5)',justifyContent:'center',borderRadius:30},underlayColor:\"#ffddb7\",onClick:function onClick(){return _this3.switchRequest(index);}},React.createElement(Text,{style:{fontSize:25,color:_this3.state.index===index?'grey':'white'}},beautifyTime(request.timestamp))));}))),React.createElement(View,{style:{backgroundColor:'white',borderTopRightRadius:30,borderTopLeftRadius:30}},administered&&React.createElement(View,{style:{alignItems:'center'}},React.createElement(View,{style:{width:'100%',backgroundColor:'white',padding:20}},React.createElement(Text,{style:{fontSize:25}},\"\\u9935\\u85E5\\u8001\\u5E2B\\uFF1A\",teacher_name),React.createElement(Text,{style:{fontSize:25}},\"\\u9935\\u85E5\\u6642\\u9593\\uFF1A\",beautifyTime(medicated_timestamp)))),React.createElement(View,{style:{alignItems:'center'}},React.createElement(View,{style:{width:'100%',flexDirection:'row',alignItems:'center',justifyContent:'center',backgroundColor:'#ff8944',padding:10,borderTopLeftRadius:30,borderTopRightRadius:30}},React.createElement(Text,{style:{fontSize:25}},\"\\u65E5\\u671F \")),React.createElement(View,{style:{flex:1,flexDirection:'row',width:'100%',backgroundColor:'white',padding:20,alignItems:'flex-start'}},React.createElement(View,{style:{flex:1,alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read'||access_mode==='edit',style:{width:'80%',paddingBottom:15},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read'||access_mode==='edit')return;_this3.setState({showDateTimeModal:true,datetime_type:'date'});}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(View,{style:{flex:1,paddingLeft:15}},React.createElement(Text,{style:{fontSize:25}},\"\\u65E5\\u671F\")),access_mode==='create'&&React.createElement(Image,{source:require(\"../../assets/icon-plus.png\"),style:{width:32,height:32,alignSelf:'flex-end'}}))),date_array.map(function(date,index){return React.createElement(View,{key:index,style:{width:'90%',justifyContent:'center',flexDirection:'row',paddingBottom:10}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'70%',backgroundColor:'#ffddb7',borderTopLeftRadius:15,borderBottomLeftRadius:15,justifyContent:'center'},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read')return;_this3.setState({showDateTimeModal:true,datetime_type:'date',date_selected_index:index});}},React.createElement(Text,{style:{fontSize:25,alignSelf:'center'}},beautifyMonthDate(date))),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'30%',justifyContent:'center',padding:5,backgroundColor:'#ffddb7',borderBottomRightRadius:15,borderTopRightRadius:15},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read')return;_this3.removeDate(index);}},React.createElement(Image,{source:require(\"../../assets/icon-delete.png\"),style:{width:32,height:32}})));})),React.createElement(View,{style:{flex:1,alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read'||access_mode==='edit',style:{width:'80%',paddingBottom:15},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read'||access_mode==='edit')return;_this3.setState({showDateTimeModal:true,datetime_type:'time'});}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(View,{style:{flex:1,paddingLeft:15}},React.createElement(Text,{style:{fontSize:25}},\"\\u6642\\u9593\")),access_mode==='create'&&React.createElement(Image,{source:require(\"../../assets/icon-plus.png\"),style:{width:32,height:32,alignSelf:'flex-end'}}))),time_array.map(function(time,index){return React.createElement(View,{key:index,style:{width:'90%',justifyContent:'center',flexDirection:'row',paddingBottom:10}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'70%',backgroundColor:'#ffddb7',borderTopLeftRadius:15,borderBottomLeftRadius:15,justifyContent:'center'},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read')return;_this3.setState({showDateTimeModal:true,datetime_type:'time',time_selected_index:index});}},React.createElement(Text,{style:{fontSize:25,alignSelf:'center'}},beautifyTime(time))),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'30%',justifyContent:'center',padding:5,backgroundColor:'#ffddb7',borderBottomRightRadius:15,borderTopRightRadius:15},underlayColor:\"transparent\",onClick:function onClick(){if(access_mode==='read')return;_this3.removeTime(index);}},React.createElement(Image,{source:require(\"../../assets/icon-delete.png\"),style:{width:32,height:32}})));}))),React.createElement(View,{style:{flex:1,flexDirection:'row',justifyContent:'center',alignItems:'center',paddingBottom:20}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{padding:15,borderWidth:1,borderColor:'grey',backgroundColor:before_meal!==null&&before_meal?'#ffddb7':'white'},underlayColor:\"#ff8944\",onClick:function onClick(){if(access_mode==='read')return;_this3.setState({before_meal:before_meal?null:true});}},React.createElement(Text,{style:{fontSize:25}},\"\\u9910\\u524D\")),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{padding:15,borderWidth:1,borderLeftWidth:0,borderColor:'grey',backgroundColor:before_meal!==null&&!before_meal?'#ffddb7':'white'},underlayColor:\"#ff8944\",onClick:function onClick(){if(access_mode==='read')return;_this3.setState({before_meal:before_meal===false?null:false});}},React.createElement(Text,{style:{fontSize:25}},\"\\u9910\\u5F8C\")))),React.createElement(View,{style:{alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'100%',justifyContent:'center',backgroundColor:'#00c07f',padding:10,borderTopLeftRadius:30,borderTopRightRadius:30}},React.createElement(Text,{style:{fontSize:25,alignSelf:'center'}},\"\\u85E5\\u7269\")),React.createElement(View,{style:{width:'100%',backgroundColor:'white',paddingHorizontal:20}},React.createElement(View,{style:{backgroundColor:''}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingTop:20,paddingBottom:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({powder:!powder});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:powder?'#00c07f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginLeft:10,alignSelf:'center'}},\"\\u85E5\\u7C89    \"))),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingTop:20,paddingBottom:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({powder_refrigerated:!powder_refrigerated});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,marginLeft:10,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:powder_refrigerated?'#00c07f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:5}},\"\\u9700\\u51B7\\u85CF\"))))),React.createElement(View,{style:{backgroundColor:''}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingVertical:10},onClick:function onClick(){if(access_mode==='read')return;_this3.onSelectSyrup();},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:syrup.length?'#00c07f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginLeft:10}},\"\\u85E5\\u6C34    \"))),syrup.length&&access_mode!=='read'?React.createElement(TouchableOpacity,{style:{padding:10},onClick:function onClick(){return _this3.setState({syrup:[].concat(_toConsumableArray(syrup),[{amount:'',need_refrigerated:false,note:''}])});},underlayColor:\"transparent\"},React.createElement(Image,{source:require(\"../../assets/icon-plus-green.png\"),style:{width:32,height:32}})):null),syrup.map(function(entry,index){return React.createElement(View,{key:index,style:{flexDirection:'row',alignItems:'center',alignSelf:'center',marginBottom:20}},React.createElement(TextInput,{editable:access_mode!=='read',style:{width:35,fontSize:25,textAlign:'center',marginHorizontal:10},keyboardType:\"number-pad\",autoFocus:true,placeholder:'____',value:entry.amount,onChangeText:function onChangeText(amount){return _this3.editSyrupAmountEntry(amount,index);}}),React.createElement(Text,{style:{fontSize:20,marginRight:5}},\"c.c.\"),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{padding:5},onClick:function onClick(){if(access_mode==='read')return;_this3.editSyrupRefrigerationEntry(!entry.need_refrigerated,index);},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,marginLeft:10,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:entry.need_refrigerated?'#00c07f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:5}},\"\\u9700\\u51B7\\u85CF\"))),React.createElement(TextInput,{editable:access_mode!=='read',style:{fontSize:25,textAlign:'center',marginHorizontal:10,width:60},placeholder:'備註',value:entry.note,onChangeText:function onChangeText(note){return _this3.editSyrupNoteEntry(note,index);}}),access_mode!=='read'&&React.createElement(TouchableOpacity,{style:{paddingHorizontal:10},onClick:function onClick(){return _this3.removeSyrupEntry(index);},underlayColor:\"transparent\"},React.createElement(Image,{source:require(\"../../assets/icon-delete.png\"),style:{width:32,height:32}})));})),React.createElement(View,{style:{}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingVertical:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({gel:gel===null?'':null});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:gel===null?'white':'#00c07f'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:10}},\"\\u85E5\\u818F\"))),gel===null?null:React.createElement(TextInput,{editable:access_mode!=='read',style:{flex:1,fontSize:25},autoFocus:true,placeholder:'部位',value:gel,onChangeText:function onChangeText(gel){return _this3.setState({gel:gel});}}))),React.createElement(View,{style:{}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingVertical:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({other_type:other_type===null?'':null});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:other_type===null?'white':'#00c07f'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:10}},\"\\u5176\\u4ED6\"))),other_type===null?null:React.createElement(TextInput,{editable:access_mode!=='read',style:{flex:1,fontSize:22,paddingHorizontal:10,paddingTop:3,paddingBottom:5,paddingLeft:0},placeholder:'點擊我開始填寫...',autoFocus:true,textAlignVertical:'top',multiline:true,blurOnSubmit:true,scrollEnabled:false,value:other_type,onChangeText:function onChangeText(other_type){return _this3.setState({other_type:other_type});}}))))),React.createElement(View,{style:{alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'100%',justifyContent:'center',backgroundColor:'#f4d41f',padding:10,borderTopLeftRadius:30,borderTopRightRadius:30}},React.createElement(Text,{style:{fontSize:25,alignSelf:'center'}},\"\\u5099\\u8A3B\")),React.createElement(View,{style:{width:'100%',backgroundColor:'white',padding:20}},React.createElement(TextInput,{editable:access_mode!=='read',style:{height:scrollHeight,padding:15,fontSize:25},placeholder:'點擊填寫...',multiline:true,blurOnSubmit:true,scrollEnabled:false,value:note,onChangeText:function onChangeText(note){return _this3.setState({note:note});},onChange:function onChange(e){return _this3.setState({scrollHeight:e.target.scrollHeight});},onLayout:function onLayout(event){var scrollHeight=event.nativeEvent.target.scrollHeight;_this3.setState({scrollHeight:scrollHeight});}}))),React.createElement(View,{style:{alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{width:'100%',justifyContent:'center',backgroundColor:'#fa625f',padding:10,borderTopLeftRadius:30,borderTopRightRadius:30}},React.createElement(Text,{style:{fontSize:25,alignSelf:'center'}},\"\\u767C\\u71D2\\u9935\\u85E5\")),React.createElement(View,{style:{width:'100%',backgroundColor:'white',padding:20}},React.createElement(View,{style:{paddingVertical:10}},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(Text,{style:{fontSize:width*0.06,marginHorizontal:10}},\"\\u767C\\u71D2\\u8D85\\u904E\"),React.createElement(TextInput,{editable:access_mode!=='read',style:{width:55,fontSize:25},keyboardType:\"number-pad\",value:fever_entry.temperature,onChangeText:function onChangeText(temperature){return _this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{temperature:temperature})});}}),React.createElement(Text,{style:{fontSize:width*0.06}},\"\\xB0C \\u4EE5\\u4E0A\\u624D\\u7528\\u85E5\")),React.createElement(View,{style:{backgroundColor:''}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingTop:20,paddingBottom:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{powder:!fever_entry.powder})});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:fever_entry.powder?'#fa625f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginLeft:10}},\"\\u85E5\\u7C89    \"))),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingTop:20,paddingBottom:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{powder_refrigerated:!fever_entry.powder_refrigerated})});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,marginLeft:10,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:fever_entry.powder_refrigerated?'#fa625f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:5}},\"\\u9700\\u51B7\\u85CF\"))))),React.createElement(View,{style:{backgroundColor:''}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingVertical:10},onClick:function onClick(){if(access_mode==='read')return;_this3.onSelectFeverSyrup();},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:fever_entry.syrup.length?'#fa625f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginLeft:10}},\"\\u85E5\\u6C34    \"))),fever_entry.syrup.length&&access_mode!=='read'?React.createElement(TouchableOpacity,{style:{padding:10},onClick:function onClick(){return _this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{syrup:[].concat(_toConsumableArray(fever_entry.syrup),[{amount:'',need_refrigerated:false}])})});},underlayColor:\"transparent\"},React.createElement(Image,{source:require(\"../../assets/icon-plus-red.png\"),style:{width:32,height:32}})):null),fever_entry.syrup.map(function(entry,index){return React.createElement(View,{key:index,style:{flexDirection:'row',alignItems:'center',alignSelf:'center',marginBottom:20}},React.createElement(TextInput,{editable:access_mode!=='read',style:{width:62,fontSize:25},keyboardType:\"number-pad\",autoFocus:true,placeholder:'____',value:entry.amount,onChangeText:function onChangeText(amount){return _this3.editFeverSyrupAmountEntry(amount,index);}}),React.createElement(Text,{style:{fontSize:25,marginRight:5}},\"c.c.\"),React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{padding:5},onClick:function onClick(){if(access_mode==='read')return;_this3.editFeverSyrupRefrigerationEntry(!entry.need_refrigerated,index);},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,marginLeft:10,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:entry.need_refrigerated?'#fa625f':'white'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:5}},\"\\u9700\\u51B7\\u85CF\"))),access_mode!=='read'&&React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingHorizontal:10},onClick:function onClick(){if(access_mode==='read')return;_this3.removeFeverSyrupEntry(index);},underlayColor:\"transparent\"},React.createElement(Image,{source:require(\"../../assets/icon-delete.png\"),style:{width:32,height:32}})));})),React.createElement(View,{style:{}},React.createElement(View,{style:{flexDirection:'row',alignItems:'center'}},React.createElement(TouchableOpacity,{disabled:access_mode==='read',style:{paddingVertical:10},onClick:function onClick(){if(access_mode==='read')return;_this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{other_type:fever_entry.other_type===null?'':null})});},underlayColor:\"transparent\"},React.createElement(View,{style:{flexDirection:'row',justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:24,height:24,borderWidth:1,borderRadius:12,justifyContent:'center',alignItems:'center'}},React.createElement(View,{style:{width:16,height:16,borderRadius:8,backgroundColor:fever_entry.other_type===null?'white':'#fa625f'}})),React.createElement(Text,{style:{fontSize:25,marginHorizontal:10}},\"\\u5176\\u4ED6\"))),fever_entry.other_type===null?null:React.createElement(TextInput,{editable:access_mode!=='read',style:{flex:1,fontSize:22,paddingHorizontal:10,paddingTop:3,paddingBottom:5,paddingLeft:0},placeholder:'點擊我開始填寫...',autoFocus:true,textAlignVertical:'top',multiline:true,blurOnSubmit:true,scrollEnabled:false,value:fever_entry.other_type,onChangeText:function onChangeText(other_type){return _this3.setState({fever_entry:_objectSpread(_objectSpread({},fever_entry),{},{other_type:other_type})});}})))))))),React.createElement(View,{style:{height:90,width:'100%',paddingHorizontal:20}},access_mode==='read'?React.createElement(TouchableOpacity,{disabled:!this.editable(),style:{width:'100%',height:'70%',backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center'},onClick:function onClick(){if(!_this3.editable())return;_this3.onClickConfirm();},underlayColor:\"transparent\"},React.createElement(Text,{style:{fontSize:40,textAlign:'center',color:'white'}},\"\\u7DE8\\u8F2F\")):access_mode==='edit'?React.createElement(View,{style:{width:'100%',height:'70%',flexDirection:'row'}},React.createElement(TouchableOpacity,{style:{flex:1,backgroundColor:'#fa625f',justifyContent:'center'},onClick:function onClick(){return _this3.deleteRequestConfirm();},underlayColor:\"transparent\"},React.createElement(Text,{style:{fontSize:30,textAlign:'center'}},\"\\u522A\\u9664\")),React.createElement(TouchableOpacity,{style:{flex:1,backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center'},onClick:function onClick(){return _this3.cancelEdit();},underlayColor:\"transparent\"},React.createElement(Text,{style:{fontSize:width*0.06,textAlign:'center',color:'white'}},\"\\u53D6\\u6D88\\u7DE8\\u8F2F\")),React.createElement(TouchableOpacity,{style:{flex:1,backgroundColor:'#00c07f',justifyContent:'center'},onClick:function onClick(){return _this3.onClickConfirm();},underlayColor:\"transparent\"},React.createElement(Text,{style:{fontSize:30,textAlign:'center'}},\"\\u9001\\u51FA\"))):React.createElement(TouchableOpacity,{style:{width:'100%',height:'70%',backgroundColor:'rgba(0,0,0,0.5)',justifyContent:'center'},onClick:function onClick(){return _this3.onClickConfirm();},underlayColor:\"transparent\"},React.createElement(Text,{style:{fontSize:30,textAlign:'center',color:'white'}},\"\\u9001\\u51FA\"))));}}]);return AddMedicationRequestPage;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{isConnected:state.parent.isConnected};};export default connect(mapStateToProps)(AddMedicationRequestPage);","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/parent/addmedicationrequestpage.js"],"names":["React","formatDate","beautifyTime","beautifyMonthDate","post","formatTime","TimeModal","Reloading","ENV","connect","Dimensions","get","width","AddMedicationRequestPage","props","state","isLoading","request_id","today","Date","showDateTimeModal","datetime_type","time_array","time_selected_index","before_meal","powder","powder_refrigerated","syrup","gel","other_type","note","administered","teacher_name","medicated_timestamp","fever_entry","temperature","data","index","access_mode","scrollHeight","date_array","date_selected_index","route","params","setState","switchRequest","id","timestamp","medication","Platform","OS","datetime","handleDateSelected","handleTimeSelected","date","updated_date_array","i","length","push","time","updated_time_array","splice","amount","need_refrigerated","alert","isConnected","student_id","onGoBack","body","normalizedData","response","success","statusCode","message","navigation","goBack","class_id","map","trim","threshold","setHours","tomorrow","setDate","getDate","toDateString","getTime","timeIsEmpty","sendRequest","confirmed","confirm","deleteRequest","fetch","method","headers","Accept","JSON","stringify","then","res","json","resJson","catch","err","flex","alignItems","selectDatetimeConfirm","request","padding","backgroundColor","justifyContent","borderRadius","fontSize","color","borderTopRightRadius","borderTopLeftRadius","flexDirection","paddingBottom","paddingLeft","require","height","alignSelf","borderBottomLeftRadius","borderBottomRightRadius","removeDate","removeTime","borderWidth","borderColor","borderLeftWidth","paddingHorizontal","paddingTop","marginLeft","marginHorizontal","paddingVertical","onSelectSyrup","entry","marginBottom","textAlign","editSyrupAmountEntry","marginRight","editSyrupRefrigerationEntry","editSyrupNoteEntry","removeSyrupEntry","e","target","event","nativeEvent","onSelectFeverSyrup","editFeverSyrupAmountEntry","editFeverSyrupRefrigerationEntry","removeFeverSyrupEntry","editable","onClickConfirm","deleteRequestConfirm","cancelEdit","Component","mapStateToProps","parent"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Text, TouchableOpacity, TextInput, ScrollView, Image,\n  KeyboardAvoidingView, Platform, Alert, Dimensions } from 'react-native'\nimport { formatDate, beautifyTime, beautifyMonthDate, post, formatTime } from '../util';\nimport TimeModal from './timemodal'\nimport Reloading from '../reloading'\nimport ENV from '../../variables'\nimport { connect } from 'react-redux'\n\nconst { width } = Dimensions.get('window')\n\nclass AddMedicationRequestPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state={\n      isLoading: true,\n      request_id: null,\n      today: new Date(),\n      showDateTimeModal: false,\n      datetime_type: '',\n      // date: null,\n      time_array: [],\n      time_selected_index: null,\n      before_meal: null,\n      powder: false,\n      powder_refrigerated: false,\n      syrup: [],\n      gel: null,\n      other_type: null,\n      note: '',\n      administered: false,\n      teacher_name: '',\n      medicated_timestamp: null,\n      fever_entry: {\n        temperature: '',\n        powder: false,\n        powder_refrigerated: false,\n        syrup: [],\n        other_type: null\n      },\n      data: null,\n      index: -1,\n      access_mode: 'create',\n      scrollHeight: '100%',\n      date_array: [],\n      date_selected_index: null\n    }\n  }\n\n  componentDidMount() {\n    const { index, data } = this.props.route.params\n\n    if (data === null) {\n      this.setState({\n        date_array: [new Date()],\n        isLoading: false\n      })\n      return\n    }\n\n    this.switchRequest(index)\n  }\n\n  switchRequest(index) {\n    const { data } = this.props.route.params\n    const { id, timestamp, administered, fever_entry, medication, note, teacher_name, medicated_timestamp } = data[index]\n    // const { before_meal, powder, powder_refrigerated, syrup, gel, other_type } = medication\n    this.setState({\n      index,\n      data,\n      request_id: id,\n      date_array: [timestamp],\n      time_array: [timestamp],\n      ...medication,\n      note,\n      fever_entry,\n      administered,\n      teacher_name,\n      medicated_timestamp: medicated_timestamp !== null ? new Date(medicated_timestamp) : null,\n      access_mode: 'read',\n      isLoading: false\n    })\n  }\n\n  isIOS() {\n    if (Platform.OS === 'ios') {\n      return true\n    } else return false\n  }\n\n  selectDatetimeConfirm(datetime) {\n    const { datetime_type } = this.state\n    if (datetime_type === 'date') {\n      this.handleDateSelected(datetime)\n    } else {\n      this.handleTimeSelected(datetime)\n    }\n    // const { datetime_type, time_array, time_selected_index } = this.state\n    // if (datetime_type === 'date') {\n    //   this.setState({\n    //     date: datetime,\n    //     showDateTimeModal: false\n    //   })\n    // } else if (time_selected_index !== null){\n    //   const updated_time_array = []\n    //   for(var i = 0; i < time_array.length; i++) {\n    //     if(i !== time_selected_index) {\n    //       updated_time_array.push(time_array[i])\n    //     } else {\n    //       updated_time_array.push(datetime)\n    //     }\n    //   }\n    //   this.setState({\n    //     time_array: updated_time_array,\n    //     time_selected_index: null,\n    //     showDateTimeModal: false\n    //   })\n    // } else {\n    //   this.setState({\n    //     time_array: [...this.state.time_array, datetime],\n    //     showDateTimeModal: false\n    //   })\n    // }\n  }\n\n  handleDateSelected(date) {\n    const { date_array, date_selected_index } = this.state\n    if (date_selected_index !== null) {\n      let updated_date_array = []\n      for(var i = 0; i < date_array.length; i++) {\n        if(i !== date_selected_index) {\n          updated_date_array.push(date_array[i])\n        } else {\n          updated_date_array.push(date)\n        }\n      }\n      this.setState({\n        date_array: updated_date_array,\n        date_selected_index: null,\n        showDateTimeModal: false\n      })\n    } else {\n      this.setState({\n        date_array: [...date_array, date],\n        showDateTimeModal: false\n      })\n    }\n  }\n\n  handleTimeSelected(time) {\n    const { time_array, time_selected_index } = this.state\n    if (time_selected_index !== null){\n      let updated_time_array = []\n      for(var i = 0; i < time_array.length; i++) {\n        if(i !== time_selected_index) {\n          updated_time_array.push(time_array[i])\n        } else {\n          updated_time_array.push(time)\n        }\n      }\n      this.setState({\n        time_array: updated_time_array,\n        time_selected_index: null,\n        showDateTimeModal: false\n      })\n    } else {\n      this.setState({\n        time_array: [...time_array, time],\n        showDateTimeModal: false\n      })\n    }\n  }\n\n  removeDate(index) {\n    const { date_array } = this.state\n    date_array.splice(index, 1)\n    this.setState({\n      date_array\n    })\n  }\n\n  removeTime(index) {\n    const { time_array } = this.state\n    time_array.splice(index, 1)\n    this.setState({\n      time_array\n    })\n  }\n\n  onSelectSyrup() {\n    const { syrup } = this.state\n    this.setState({ \n      syrup: syrup.length ? []\n        : [{\n          amount: '',\n          need_refrigerated: false,\n          note: ''\n        }]\n    })\n  }\n\n  editSyrupAmountEntry(amount, index) {\n    const { syrup } = this.state\n    syrup[index].amount = amount\n    this.setState({\n      syrup\n    })\n  }\n\n  editSyrupNoteEntry(note, index) {\n    const { syrup } = this.state\n    syrup[index].note = note\n    this.setState({\n      syrup\n    })\n  }\n\n  editSyrupRefrigerationEntry(need_refrigerated, index) {\n    const { syrup } = this.state\n    syrup[index].need_refrigerated = need_refrigerated\n    this.setState({\n      syrup\n    })\n  }\n\n  removeSyrupEntry(index) {\n    const { syrup } = this.state\n    syrup.splice(index, 1)\n    this.setState({\n      syrup\n    })\n\n  }\n\n  onSelectFeverSyrup() {\n    const { fever_entry } = this.state\n    this.setState({\n      fever_entry: {\n        ...fever_entry,\n        syrup: fever_entry.syrup.length ? []\n          : [{\n            amount: '',\n            need_refrigerated: false\n          }]\n      }\n    })\n  }\n\n  editFeverSyrupAmountEntry(amount, index) {\n    const { fever_entry } = this.state\n    fever_entry.syrup[index].amount = amount\n    this.setState({\n      fever_entry\n    })\n  }\n\n  editFeverSyrupRefrigerationEntry(need_refrigerated, index) {\n    const { fever_entry } = this.state\n    fever_entry.syrup[index].need_refrigerated = need_refrigerated\n    this.setState({\n      fever_entry\n    })\n  }\n\n  removeFeverSyrupEntry(index) {\n    const { fever_entry } = this.state\n    fever_entry.syrup.splice(index, 1)\n    this.setState({\n      fever_entry\n    })\n\n  }\n\n  timeIsEmpty() {\n    const { time_array } = this.state\n    if (time_array.length === 0) {\n      alert('至少要選擇一個時間！')\n      return true\n    }\n    return false\n  }\n\n  async sendRequest() {\n    const { isConnected } = this.props\n    if (!isConnected) {\n      alert('網路連不到! 請稍後再試試看')\n      return\n    }\n    const { student_id, onGoBack } = this.props.route.params\n    const body = this.normalizedData()\n    const response = await post(`/medicationrequest/student/${student_id}`, body)\n    const { success, statusCode, message, data } = response\n    if (!success) {\n      alert('Sorry 送出托藥單時電腦出狀況了！請截圖和與工程師聯繫\\n\\n' + message)\n      return \n    }\n    this.setState({\n      access_mode: 'read'\n    })\n    onGoBack()\n    this.props.navigation.goBack()\n  }\n\n  normalizedData() {\n    const { class_id } = this.props.route.params\n    const {\n      request_id, \n      date_array,\n      time_array,\n      before_meal ,\n      powder,\n      powder_refrigerated,\n      syrup,\n      gel,\n      other_type,\n      note,\n      fever_entry\n    } = this.state\n\n    return{\n      request_id,\n      class_id,\n      // date: formatDate(date), \n      date_array: date_array.map(date => formatDate(date)),\n      time_array: time_array.map(time => formatTime(time)), \n      before_meal,\n      powder,\n      powder_refrigerated,\n      syrup,\n      gel: gel === null ? gel : gel.trim(),\n      other_type: other_type === null ? other_type : other_type.trim(),\n      note: note.trim(),\n      fever_entry: {\n        temperature: fever_entry.temperature,\n        powder: fever_entry.powder,\n        powder_refrigerated: fever_entry.powder_refrigerated, \n        syrup: fever_entry.syrup, \n        other_type: fever_entry.other_type === null ? fever_entry.other_type : fever_entry.other_type.trim()\n      }\n    }\n  }\n\n  editable(){\n    const { date_array } = this.state\n    let date = date_array[0]\n    const threshold = new Date()\n    threshold.setHours(10,0,0,0)\n    const tomorrow = new Date()\n    tomorrow.setDate(tomorrow.getDate() + 1)\n    tomorrow.setHours(0,0,0,0)\n    return (date.toDateString() === (new Date).toDateString() && new Date() < threshold) || date.getTime() > tomorrow.getTime()\n  }\n\n  onClickConfirm() {\n    const { access_mode } = this.state\n    if (access_mode === 'create' || access_mode === 'edit') {\n      if (this.timeIsEmpty()) return\n      this.sendRequest()\n    } else {\n      this.setState({\n        access_mode: 'edit'\n      })\n    }\n  }\n\n  deleteRequestConfirm() {\n    const { request_id } = this.state\n    const confirmed = confirm('確定要刪除？')\n    if (confirmed) {\n      this.deleteRequest(request_id)  \n    }\n  }\n\n  deleteRequest(request_id) {\n    const { isConnected } = this.props\n    if (!isConnected) {\n      alert('網路連不到! 請稍後再試試看')\n      return\n    }\n    const { class_id, onGoBack } = this.props.route.params\n    fetch(`https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/${ENV}/medicationrequest/${request_id}`, {\n      method: 'DELETE',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        class_id\n      })\n    })\n      .then((res) => res.json())\n      .then((resJson) => {\n        const { statusCode, message, data } = resJson\n        if (statusCode > 200 || message === 'Internal Server Error') {\n          alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫' + message)\n          return\n        }\n        onGoBack()\n        this.props.navigation.goBack()\n      })\n      .catch(err => {\n        alert('Sorry 電腦出狀況了！請截圖和與工程師聯繫: error occurred when deleting medication request')\n      })\n  }\n\n  cancelEdit() {\n    const { index } = this.state\n    this.switchRequest(index)\n  }\n\n  render() {\n    const { \n      isLoading,\n      // date, \n      time_array, \n      showDateTimeModal, \n      datetime_type, \n      time_selected_index, \n      before_meal ,\n      powder,\n      powder_refrigerated,\n      syrup,\n      gel,\n      other_type,\n      note,\n      fever_entry,\n      administered,\n      teacher_name,\n      medicated_timestamp,\n      data,\n      access_mode,\n      scrollHeight,\n      date_array,\n      date_selected_index\n    } = this.state\n    \n    if(isLoading) {\n      return <Reloading />\n    }\n    return (\n      <KeyboardAvoidingView\n          style={{ flex: 1, width: '100%', alignItems: 'center' }}\n          behavior={'padding'}\n          // keyboardVerticalOffset={90}\n          enabled\n      >\n        {showDateTimeModal ?\n          <TimeModal\n            start_date={time_selected_index === null ? new Date() : time_array[time_selected_index]}\n            datetime_type={datetime_type}\n            hideModal={() => this.setState({ showDateTimeModal: false })}\n            selectDatetimeConfirm={(datetime) => this.selectDatetimeConfirm(datetime)}\n            minDatetime={new Date()}\n            maxDatetime={(new Date()).setDate((new Date()).getDate() + 7)}\n            minTime={new Date().setHours(7, 0, 0)}\n            maxTime={new Date().setHours(20, 0, 0)}\n            paddingVertical={100}\n          />\n          : null\n        }\n\n        <ScrollView style={{ width: '100%' }}>\n          \n          {data !== null && data.length > 1 &&\n            <View style={{ width: '100%' }}>\n                <ScrollView horizontal showsHorizontalScrollIndicator={false}>\n                  {data.map((request, index) => {\n                    return (\n                      <View key={index} style={{ padding: 10 }}>\n                        <TouchableOpacity\n                          key={request.id}\n                          style={{\n                            padding: 10,\n                            backgroundColor: this.state.index === index ? '#ffddb7' : 'rgba(0,0,0,0.5)',\n                            justifyContent: 'center',\n                            borderRadius: 30\n                          }}\n                          underlayColor='#ffddb7'\n                          onClick={() => this.switchRequest(index)}\n                        >\n                          <Text\n                            style={{ fontSize: 25, color: this.state.index === index ? 'grey' : 'white' }}\n                          >\n                            {beautifyTime(request.timestamp)}\n                          </Text>\n                        </TouchableOpacity>\n                      </View>\n                    )\n                  })}\n                </ScrollView>\n            </View>\n          }\n\n          <View style={{ backgroundColor: 'white', borderTopRightRadius: 30, borderTopLeftRadius: 30}}>\n            {administered &&\n              <View style={{ alignItems: 'center'}}>\n                {/* MEDICATED RESPONSE - BODY */}\n                <View style={{ width: '100%', backgroundColor: 'white', padding: 20 }}>\n                  <Text style={{ fontSize: 25 }}>餵藥老師：{teacher_name}</Text>\n                  <Text style={{ fontSize: 25 }}>餵藥時間：{beautifyTime(medicated_timestamp)}</Text>\n                </View>\n              </View>}\n\n          {/* DATE */}\n          <View style={{ alignItems: 'center'}}>\n            <View\n              style={{ \n                width: '100%', \n                flexDirection: 'row', \n                alignItems: 'center',\n                justifyContent: 'center',\n                backgroundColor: '#ff8944',\n                padding: 10,\n                borderTopLeftRadius: 30,\n                borderTopRightRadius: 30\n              }}\n            >\n              <Text style={{ fontSize: 25 }}>日期 </Text>\n            </View>\n            {/* <TouchableOpacity\n              disabled={access_mode === 'read'}\n              style={{\n                width: '100%',\n                justifyContent: 'center',\n                backgroundColor: '#ff8944',\n                padding: 10,\n                borderTopLeftRadius: 30,\n                borderTopRightRadius: 30\n              }}\n              underlayColor='transparent'\n              onClick={() => {\n                if (access_mode === 'read') return\n                this.setState({ showDateTimeModal: true, datetime_type: 'date' })\n              }}\n            >\n              <Text style={{ fontSize: 30, alignSelf: 'center' }}>日期 {beautifyMonthDate(date)}</Text>\n            </TouchableOpacity> */}\n\n            {/* TIME */}\n            <View \n              style={{ \n                flex: 1,\n                flexDirection: 'row', \n                width: '100%', \n                backgroundColor: 'white', \n                padding: 20,\n                alignItems: 'flex-start'\n              }}\n            >\n\n            <View style={{ flex: 1, alignItems: 'center' }}>\n                <TouchableOpacity \n                  disabled={access_mode === 'read' || access_mode === 'edit'}\n                  style={{\n                    width: '80%',\n                    paddingBottom: 15\n                  }}\n                  underlayColor='transparent'\n                  onClick={() => {\n                    if (access_mode === 'read' || access_mode === 'edit') return\n                    this.setState({ showDateTimeModal: true, datetime_type: 'date' })\n                  }}\n                >\n                  <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                    <View style={{ flex: 1, paddingLeft: 15 }}>\n                      <Text style={{ fontSize: 25 }}>日期</Text>\n                    </View >\n                    {access_mode === 'create' &&\n                      <Image\n                        source={require('../../assets/icon-plus.png')}\n                        style={{ width: 32, height: 32, alignSelf: 'flex-end'}}\n                      />\n                    }\n                  </View>\n                </TouchableOpacity>\n                {date_array.map((date, index) => {\n                  return (\n                    <View key={index} \n                      style={{\n                        width: '90%',\n                        justifyContent: 'center',\n                        flexDirection: 'row',\n                        paddingBottom: 10\n                      }}\n                    >\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{\n                          width: '70%',\n                          backgroundColor: '#ffddb7',\n                          borderTopLeftRadius: 15,\n                          borderBottomLeftRadius: 15,\n                          justifyContent: 'center'\n                        }}\n                        underlayColor='transparent'\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.setState({ showDateTimeModal: true, datetime_type: 'date', date_selected_index: index })\n                        }}\n                      >\n                        <Text style={{ fontSize: 25, alignSelf: 'center' }}>{beautifyMonthDate(date)}</Text>\n                      </TouchableOpacity>\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{\n                          width: '30%',\n                          justifyContent: 'center',\n                          padding: 5,\n                          backgroundColor: '#ffddb7',\n                          borderBottomRightRadius: 15,\n                          borderTopRightRadius: 15\n                        }}\n                        underlayColor='transparent'\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.removeDate(index)\n                        }}\n                      >\n                        <Image\n                          source={require('../../assets/icon-delete.png')}\n                          style={{ width: 32, height: 32 }}\n                        />\n                      </TouchableOpacity>\n                    </View>\n                  )\n                })}\n              </View>\n\n              <View style={{ flex: 1, alignItems: 'center' }}>\n                <TouchableOpacity \n                  disabled={access_mode === 'read' || access_mode === 'edit'}\n                  style={{\n                    width: '80%',\n                    paddingBottom: 15\n                  }}\n                  underlayColor='transparent'\n                  onClick={() => {\n                    if (access_mode === 'read' || access_mode === 'edit') return\n                    this.setState({ showDateTimeModal: true, datetime_type: 'time' })\n                  }}\n                >\n                  <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                    <View style={{ flex: 1, paddingLeft: 15 }}>\n                      <Text style={{ fontSize: 25 }}>時間</Text>\n                    </View >\n                    {access_mode === 'create' &&\n                      <Image\n                        source={require('../../assets/icon-plus.png')}\n                        style={{ width: 32, height: 32, alignSelf: 'flex-end'}}\n                      />\n                    }\n                  </View>\n                </TouchableOpacity>\n\n                {time_array.map((time, index) => {\n                  return (\n                    <View key={index} \n                      style={{\n                        width: '90%',\n                        justifyContent: 'center',\n                        flexDirection: 'row',\n                        paddingBottom: 10\n                      }}\n                    >\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{\n                          width: '70%',\n                          backgroundColor: '#ffddb7',\n                          borderTopLeftRadius: 15,\n                          borderBottomLeftRadius: 15,\n                          justifyContent: 'center'\n                        }}\n                        underlayColor='transparent'\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.setState({ showDateTimeModal: true, datetime_type: 'time', time_selected_index: index })\n                        }}\n                      >\n                        <Text style={{ fontSize: 25, alignSelf: 'center' }}>{beautifyTime(time)}</Text>\n                      </TouchableOpacity>\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{\n                          width: '30%',\n                          justifyContent: 'center',\n                          padding: 5,\n                          backgroundColor: '#ffddb7',\n                          borderBottomRightRadius: 15,\n                          borderTopRightRadius: 15\n                        }}\n                        underlayColor='transparent'\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.removeTime(index)\n                        }}\n                      >\n                        <Image\n                          source={require('../../assets/icon-delete.png')}\n                          style={{ width: 32, height: 32 }}\n                        />\n                      </TouchableOpacity>\n                    </View>\n                  )\n                })}\n              </View>\n            </View>\n            <View style={{ flex: 1, flexDirection: 'row', justifyContent: 'center', alignItems: 'center', paddingBottom: 20 }}>\n              <TouchableOpacity\n                disabled={access_mode === 'read'}\n                style={{ \n                  padding: 15,\n                  borderWidth: 1,\n                  borderColor: 'grey',\n                  backgroundColor: (before_meal !== null && before_meal) ? '#ffddb7' : 'white'\n                }}\n                underlayColor='#ff8944'\n                onClick={() => {\n                  if (access_mode === 'read') return\n                  this.setState({ before_meal: before_meal ? null : true })\n                }}\n              >\n                <Text style={{ fontSize: 25 }}>餐前</Text>\n              </TouchableOpacity>\n              <TouchableOpacity\n                disabled={access_mode === 'read'}\n                style={{\n                  padding: 15,\n                  borderWidth: 1,\n                  borderLeftWidth: 0,\n                  borderColor: 'grey',\n                  backgroundColor: (before_meal !== null && !before_meal) ? '#ffddb7' : 'white'\n                }}\n                underlayColor='#ff8944'\n                onClick={() => {\n                  if (access_mode === 'read') return\n                  this.setState({ before_meal: before_meal === false ? null : false })\n                }}\n              >\n                <Text style={{ fontSize: 25 }}>餐後</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n\n          {/* MEDICATION TYPE - HEADER */}\n          <View style={{ alignItems: 'center'}}>\n            <TouchableOpacity\n              disabled={access_mode === 'read'}\n              style={{\n                width: '100%',\n                justifyContent: 'center',\n                backgroundColor: '#00c07f',\n                padding: 10,\n                borderTopLeftRadius: 30,\n                borderTopRightRadius: 30\n              }}\n              // onClick={() => }\n            >\n              <Text style={{ fontSize: 25, alignSelf: 'center' }}>藥物</Text>\n            </TouchableOpacity>\n\n            {/* MEDICATION TYPE - BODY */}\n            <View style={{ width: '100%', backgroundColor: 'white', paddingHorizontal: 20 }}>\n\n              {/* POWDER */}\n              <View style={{ backgroundColor: '' }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingTop: 20, paddingBottom: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.setState({ powder: !powder })\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: powder ? '#00c07f' : 'white'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginLeft: 10, alignSelf: 'center' }}>藥粉    </Text>\n                    </View>\n                  </TouchableOpacity>\n                  \n\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingTop: 20, paddingBottom: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.setState({ powder_refrigerated: !powder_refrigerated})\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, marginLeft: 10, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            // flex: 1,\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: powder_refrigerated ? '#00c07f' : 'white'\n                          }}\n                        >\n                          \n                        </View>\n                      </View>\n                    \n                      <Text style={{ fontSize: 25, marginHorizontal: 5 }}>需冷藏</Text>\n\n                    </View>\n\n                  </TouchableOpacity>\n                </View>\n                \n              </View>\n\n              {/* SYRUP */}\n              <View style={{ backgroundColor: '' }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingVertical: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.onSelectSyrup()\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: syrup.length ? '#00c07f' : 'white'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginLeft: 10 }}>藥水    </Text>\n                    </View>\n                  </TouchableOpacity>\n                  {syrup.length && access_mode !== 'read'? \n                    <TouchableOpacity\n                      style={{ padding: 10 }}\n                      onClick={() => this.setState({\n                        syrup: [...syrup, { amount: '', need_refrigerated: false, note: '' }]\n                      })}\n                      underlayColor='transparent'\n                    >\n                      <Image\n                        source={require('../../assets/icon-plus-green.png')}\n                        style={{ width: 32, height: 32 }}\n                      />\n                    </TouchableOpacity>\n                    : null\n                  }\n                </View>\n\n                {syrup.map((entry,index) => {\n                  return (\n                    <View key={index} style={{ flexDirection: 'row', alignItems: 'center', alignSelf: 'center', marginBottom: 20 }}>\n                      <TextInput\n                        editable={access_mode !== 'read'}\n                        style={{ width: 35, fontSize: 25, textAlign: 'center', marginHorizontal: 10 }}\n                        keyboardType=\"number-pad\"\n                        autoFocus={true}\n                        placeholder={'____'}\n                        value={entry.amount}\n                        onChangeText={(amount) => this.editSyrupAmountEntry(amount, index)}\n                      />\n\n                      <Text style={{ fontSize: 20, marginRight: 5 }}>c.c.</Text>\n\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{ padding: 5 }}\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.editSyrupRefrigerationEntry(!entry.need_refrigerated, index)\n                        }}\n                        underlayColor='transparent'\n                      >\n                        <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                          <View\n                            style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, marginLeft: 10, justifyContent: 'center', alignItems: 'center' }}\n                          >\n                            <View \n                              style={{\n                                width: 16,\n                                height: 16,\n                                borderRadius: 8,\n                                backgroundColor: entry.need_refrigerated ? '#00c07f' : 'white'\n                              }}\n                            >\n                            </View>\n                          </View>\n                          <Text style={{ fontSize: 25, marginHorizontal: 5 }}>需冷藏</Text>\n                        </View>\n\n                      </TouchableOpacity>\n\n                      <TextInput\n                        editable={access_mode !== 'read'}\n                        style={{ fontSize: 25, textAlign: 'center', marginHorizontal: 10, width: 60 }}\n                        // keyboardType=\"default\"\n                        // autoFocus={true}\n                        placeholder={'備註'}\n                        value={entry.note}\n                        onChangeText={(note) => this.editSyrupNoteEntry(note, index)}\n                      />\n\n                      {access_mode !== 'read' && <TouchableOpacity\n                        style={{ paddingHorizontal: 10 }}\n                        onClick={() => this.removeSyrupEntry(index)}\n                        underlayColor='transparent'\n                      >\n                        <Image\n                          source={require('../../assets/icon-delete.png')}\n                          style={{ width: 32, height: 32 }}\n                        />\n                      </TouchableOpacity>\n                      }\n                    </View>\n                  )\n                })}\n                \n              </View>\n\n              {/* GEL */}\n              <View style={{ }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingVertical: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.setState({ \n                        gel: gel === null ? '' : null\n                      })\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: gel === null ? 'white' : '#00c07f'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginHorizontal: 10 }}>藥膏</Text>\n                    </View>\n                  </TouchableOpacity>\n                  {gel === null ? \n                    null\n                    :\n                    <TextInput\n                      editable={access_mode !== 'read'}\n                      style={{ flex: 1, fontSize: 25 }}\n                      autoFocus={true}\n                      placeholder={'部位'}\n                      value={gel}\n                      onChangeText={(gel) => this.setState({ gel })}\n                    />\n                  }\n                </View>\n                \n              </View>\n\n              {/* OTHER */}\n              <View style={{ }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingVertical: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.setState({ \n                        other_type: other_type === null ? '' : null\n                      })\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: other_type === null ? 'white' : '#00c07f'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginHorizontal: 10 }}>其他</Text>\n                    </View>\n                  </TouchableOpacity>\n                  {other_type === null ? \n                    null\n                    :\n                    <TextInput\n                      editable={access_mode !== 'read'}\n                      style={{ flex:1, fontSize: 22, paddingHorizontal: 10, paddingTop: 3, paddingBottom: 5, paddingLeft: 0 }}\n                      placeholder={'點擊我開始填寫...'}\n                      autoFocus={true}\n                      textAlignVertical={'top'}\n                      multiline={true}\n                      blurOnSubmit={true}\n                      scrollEnabled={false}\n                      value={other_type}\n                      onChangeText={(other_type) => this.setState({ other_type })} \n                    />\n                  }\n                </View>\n                \n              </View>\n\n            </View>\n          </View>\n\n          {/* NOTE - HEADER */}\n          <View style={{ alignItems: 'center'}}>\n            <TouchableOpacity\n              disabled={access_mode === 'read'}\n              style={{\n                width: '100%',\n                justifyContent: 'center',\n                backgroundColor: '#f4d41f',\n                padding: 10,\n                borderTopLeftRadius: 30,\n                borderTopRightRadius: 30\n              }}\n              // onClick={() => }\n            >\n              <Text style={{ fontSize: 25, alignSelf: 'center' }}>備註</Text>\n            </TouchableOpacity>\n\n            {/* NOTE - BODY */}\n            <View style={{ width: '100%', backgroundColor: 'white', padding: 20 }}>\n              <TextInput\n                editable={access_mode !== 'read'}\n                style={{ height: scrollHeight, padding: 15, fontSize: 25 }}\n                placeholder={'點擊填寫...'}\n                multiline={true}\n                blurOnSubmit={true}\n                scrollEnabled={false}\n                value={note}\n                onChangeText={(note) => this.setState({ note})}\n                onChange={(e) => this.setState({\n                  scrollHeight: e.target.scrollHeight\n                })}\n                onLayout={(event) => {\n                  const { scrollHeight } = event.nativeEvent.target\n                  this.setState({\n                      scrollHeight\n                  })\n                }}\n              />\n            </View>\n          </View>\n\n          {/* FEVER MEDS - HEADER */}\n          <View style={{ alignItems: 'center'}}>\n            <TouchableOpacity\n              disabled={access_mode === 'read'}\n              style={{\n                width: '100%',\n                justifyContent: 'center',\n                backgroundColor: '#fa625f',\n                padding: 10,\n                borderTopLeftRadius: 30,\n                borderTopRightRadius: 30\n              }}\n              // onClick={() => }\n            >\n              <Text style={{ fontSize: 25, alignSelf: 'center' }}>發燒餵藥</Text>\n            </TouchableOpacity>\n\n            {/* FEVER MEDS - BODY */}\n            <View style={{ width: '100%', backgroundColor: 'white', padding: 20 }}>\n              <View style={{ paddingVertical: 10 }}>\n                <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                  \n                  <Text style={{ fontSize: width * 0.06, marginHorizontal: 10 }}>發燒超過</Text>\n\n                  <TextInput\n                    editable={access_mode !== 'read'}\n                    style={{ width: 55, fontSize: 25 }}\n                    keyboardType='number-pad'\n                    value={fever_entry.temperature}\n                    onChangeText={(temperature) => this.setState({\n                      fever_entry: {\n                        ...fever_entry,\n                        temperature\n                      }\n                    })}\n                  />\n\n                  <Text style={{ fontSize: width * 0.06 }}>°C 以上才用藥</Text>\n                </View>\n\n                {/* POWDER */}\n                <View style={{ backgroundColor: '' }}>\n                  <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                    <TouchableOpacity\n                      disabled={access_mode === 'read'}\n                      style={{ paddingTop: 20, paddingBottom: 10 }}\n                      onClick={() => {\n                        if (access_mode === 'read') return\n                        this.setState({ \n                          fever_entry: {\n                            ...fever_entry,\n                            powder: !fever_entry.powder \n                          }\n                        })\n                      }}\n                      underlayColor='transparent'\n                    >\n                      <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                        <View\n                          style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                        >\n                          <View \n                            style={{\n                              width: 16,\n                              height: 16,\n                              borderRadius: 8,\n                              backgroundColor: fever_entry.powder ? '#fa625f' : 'white'\n                            }}\n                          >\n                          </View>\n                        </View>\n                        <Text style={{ fontSize: 25, marginLeft: 10 }}>藥粉    </Text>\n                      </View>\n                    </TouchableOpacity>\n                    \n\n                    <TouchableOpacity\n                      disabled={access_mode === 'read'}\n                      style={{ paddingTop: 20, paddingBottom: 10 }}\n                      onClick={() => {\n                        if (access_mode === 'read') return\n                        this.setState({\n                          fever_entry: {\n                            ...fever_entry,\n                            powder_refrigerated: !fever_entry.powder_refrigerated\n                          }\n                        })\n                      }}\n                      underlayColor='transparent'\n                    >\n                      <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                        <View\n                          style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, marginLeft: 10, justifyContent: 'center', alignItems: 'center' }}\n                        >\n                          <View \n                            style={{\n                              // flex: 1,\n                              width: 16,\n                              height: 16,\n                              borderRadius: 8,\n                              backgroundColor: fever_entry.powder_refrigerated ? '#fa625f' : 'white'\n                            }}\n                          >\n                            \n                          </View>\n                        </View>\n                      \n                        <Text style={{ fontSize: 25, marginHorizontal: 5 }}>需冷藏</Text>\n\n                      </View>\n\n                    </TouchableOpacity>\n                  </View>\n                  \n                </View>\n                \n                {/* SYRUP */}\n              <View style={{ backgroundColor: '' }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingVertical: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.onSelectFeverSyrup()\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: fever_entry.syrup.length ? '#fa625f' : 'white'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginLeft: 10 }}>藥水    </Text>\n                    </View>\n                  </TouchableOpacity>\n                  {fever_entry.syrup.length && access_mode !== 'read'? \n                    <TouchableOpacity\n                      style={{ padding: 10 }}\n                      onClick={() => this.setState({\n                        fever_entry: {\n                          ...fever_entry,\n                          syrup: [...fever_entry.syrup, { amount: '', need_refrigerated: false }]\n                        }\n                      })}\n                      underlayColor='transparent'\n                    >\n                      <Image\n                        source={require('../../assets/icon-plus-red.png')}\n                        style={{ width: 32, height: 32 }}\n                      />\n                    </TouchableOpacity>\n                    : null\n                  }\n                </View>\n\n                {fever_entry.syrup.map((entry,index) => {\n                  return (\n                    <View key={index} style={{ flexDirection: 'row', alignItems: 'center', alignSelf: 'center', marginBottom: 20 }}>\n                      <TextInput\n                        editable={access_mode !== 'read'}\n                        style={{ width: 62, fontSize: 25 }}\n                        keyboardType=\"number-pad\"\n                        autoFocus={true}\n                        placeholder={'____'}\n                        value={entry.amount}\n                        onChangeText={(amount) => this.editFeverSyrupAmountEntry(amount, index)}\n                      />\n\n                      <Text style={{ fontSize: 25, marginRight: 5 }}>c.c.</Text>\n\n                      <TouchableOpacity\n                        disabled={access_mode === 'read'}\n                        style={{ padding: 5 }}\n                        onClick={() => {\n                          if (access_mode === 'read') return\n                          this.editFeverSyrupRefrigerationEntry(!entry.need_refrigerated, index)\n                        }}\n                        underlayColor='transparent'\n                      >\n                        <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                          <View\n                            style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, marginLeft: 10, justifyContent: 'center', alignItems: 'center' }}\n                          >\n                            <View \n                              style={{\n                                width: 16,\n                                height: 16,\n                                borderRadius: 8,\n                                backgroundColor: entry.need_refrigerated ? '#fa625f' : 'white'\n                              }}\n                            >\n                            </View>\n                          </View>\n                          <Text style={{ fontSize: 25, marginHorizontal: 5 }}>需冷藏</Text>\n                        </View>\n\n                      </TouchableOpacity>\n\n                      {access_mode !== 'read' && \n                        <TouchableOpacity\n                          disabled={access_mode === 'read'}\n                          style={{ paddingHorizontal: 10 }}\n                          onClick={() => {\n                            if (access_mode === 'read') return\n                            this.removeFeverSyrupEntry(index)\n                          }}\n                          underlayColor='transparent'\n                        >\n                          <Image\n                            source={require('../../assets/icon-delete.png')}\n                            style={{ width: 32, height: 32 }}\n                          />\n                        </TouchableOpacity>\n                      }\n                    </View>\n                  )\n                })}\n                \n              </View>\n\n                {/* OTHER */}\n              <View style={{ }}>\n                <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n                  <TouchableOpacity\n                    disabled={access_mode === 'read'}\n                    style={{ paddingVertical: 10 }}\n                    onClick={() => {\n                      if (access_mode === 'read') return\n                      this.setState({\n                        fever_entry: {\n                          ...fever_entry,\n                          other_type: fever_entry.other_type === null ? '' : null\n                        }\n                      })\n                    }}\n                    underlayColor='transparent'\n                  >\n                    <View style={{ flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n                      <View\n                        style={{ width: 24, height: 24, borderWidth: 1, borderRadius: 12, justifyContent: 'center', alignItems: 'center' }}\n                      >\n                        <View \n                          style={{\n                            width: 16,\n                            height: 16,\n                            borderRadius: 8,\n                            backgroundColor: fever_entry.other_type === null ? 'white' : '#fa625f'\n                          }}\n                        >\n                        </View>\n                      </View>\n                      <Text style={{ fontSize: 25, marginHorizontal: 10 }}>其他</Text>\n                    </View>\n                  </TouchableOpacity>\n                  {fever_entry.other_type === null ? \n                    null\n                    :\n                    <TextInput\n                      editable={access_mode !== 'read'}\n                      style={{ flex:1, fontSize: 22, paddingHorizontal: 10, paddingTop: 3, paddingBottom: 5, paddingLeft: 0 }}\n                      placeholder={'點擊我開始填寫...'}\n                      autoFocus={true}\n                      textAlignVertical={'top'}\n                      multiline={true}\n                      blurOnSubmit={true}\n                      scrollEnabled={false}\n                      value={fever_entry.other_type}\n                      onChangeText={(other_type) => this.setState({ \n                        fever_entry: {\n                          ...fever_entry,\n                          other_type\n                        }\n                      })} \n                    />\n                  }\n                </View>\n                \n              </View>\n                  \n              </View>\n            </View>\n          </View>\n          </View>\n        </ScrollView>\n\n        <View\n          style={{ height: 90, width: '100%', paddingHorizontal: 20 }}\n        >\n          {access_mode === 'read' ?\n            <TouchableOpacity \n              disabled={!this.editable()}\n              style={{ width: '100%', height: '70%', backgroundColor: 'rgba(0,0,0,0.5)', justifyContent: 'center' }}\n              onClick={() => {\n                if (!this.editable()) return\n                this.onClickConfirm()\n              }}\n              underlayColor='transparent'\n            >\n              <Text style={{ fontSize: 40, textAlign: 'center', color: 'white' }}>\n                編輯\n              </Text>\n            </TouchableOpacity>\n            : access_mode === 'edit' ?\n              <View style={{ width: '100%', height: '70%', flexDirection: 'row' }}>\n                <TouchableOpacity \n                  style={{  flex:1, backgroundColor: '#fa625f', justifyContent: 'center' }}\n                  onClick={() => this.deleteRequestConfirm()}\n                  underlayColor='transparent'\n                >\n                  <Text style={{ fontSize: 30, textAlign: 'center' }}>\n                    刪除\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity \n                  style={{  flex:1, backgroundColor: 'rgba(0,0,0,0.5)', justifyContent: 'center' }}\n                  onClick={() => this.cancelEdit()}\n                  underlayColor='transparent'\n                >\n                  <Text style={{ fontSize: width * 0.06, textAlign: 'center', color: 'white' }}>\n                    取消編輯\n                  </Text>\n                </TouchableOpacity>\n\n                <TouchableOpacity \n                  style={{ flex:1, backgroundColor: '#00c07f', justifyContent: 'center' }}\n                  onClick={() => this.onClickConfirm()}\n                  underlayColor='transparent'\n                  >\n                  <Text style={{ fontSize: 30, textAlign: 'center' }}>\n                    送出\n                  </Text>\n                </TouchableOpacity>\n              </View>\n            : // access_mode === 'create\n              <TouchableOpacity\n                style={{ width: '100%', height: '70%', backgroundColor: 'rgba(0,0,0,0.5)', justifyContent: 'center' }}\n                onClick={() => this.onClickConfirm()}\n                underlayColor='transparent'\n              >\n                <Text style={{ fontSize: 30, textAlign: 'center', color: 'white' }}>\n                  送出\n                </Text>\n              </TouchableOpacity>\n          }\n        </View>\n        \n      </KeyboardAvoidingView>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      isConnected: state.parent.isConnected\n  }\n}\n\nexport default connect(mapStateToProps) (AddMedicationRequestPage)"]},"metadata":{},"sourceType":"module"}