{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/caleb_lee/gina_web_app/components/teacher/medicationrequestcard.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Card } from 'native-base';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { initializeRequests } from \"../../redux/school/actions/index\";\nimport { formatHourMinute } from \"../util\";\n\nvar MedicationReqeustCard = function (_React$Component) {\n  _inherits(MedicationReqeustCard, _React$Component);\n\n  var _super = _createSuper(MedicationReqeustCard);\n\n  function MedicationReqeustCard(props) {\n    var _this;\n\n    _classCallCheck(this, MedicationReqeustCard);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      timerId: null\n    };\n    return _this;\n  }\n\n  _createClass(MedicationReqeustCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData();\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData() {\n      var _this2 = this;\n\n      var d = new Date();\n      var date = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate();\n      fetch('https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/medicationrequest?date=' + date + '&class_id=' + this.props.class_id, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        var statusCode = resJson.statusCode,\n            message = resJson.message,\n            data = resJson.data;\n        var requests = data.requests,\n            finished = data.finished,\n            unfinished = data.unfinished;\n\n        if (statusCode > 200 || message === 'Internal server error') {\n          alert('托藥單取不完整，請和工程師聯繫' + message);\n          return;\n        }\n\n        _this2.props.initializeRequests(requests, finished, unfinished);\n      }).catch(function (err) {\n        alert('Error, please try again 托藥單取不完整，請和工程師聯繫：' + err.message);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var students = this.props.students;\n      var _this$props$medicatio = this.props.medication_requests,\n          requests = _this$props$medicatio.requests,\n          unfinished = _this$props$medicatio.unfinished;\n      return React.createElement(Card, {\n        style: {\n          flex: 1,\n          width: '90%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }\n      }, React.createElement(View, {\n        style: {\n          height: 80,\n          justifyContent: 'center',\n          marginTop: 5\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 30,\n          alignSelf: 'center',\n          position: 'absolute'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, \"\\u6258\\u85E5\\u55AE\"), React.createElement(TouchableHighlight, {\n        style: {\n          width: '25%',\n          alignSelf: 'flex-end',\n          position: 'absolute',\n          padding: 5,\n          backgroundColor: '#b5e9e9'\n        },\n        onPress: function onPress() {\n          _this3.props.navigation.push('TeacherMedicineLog', {\n            request_id: null\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }\n      }, \"\\u67E5\\u770B\"))), React.createElement(View, {\n        style: {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 17\n        }\n      }, React.createElement(ScrollView, {\n        horizontal: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }\n      }, unfinished.map(function (request_id) {\n        var _requests$request_id = requests[request_id],\n            student_id = _requests$request_id.student_id,\n            timestamp = _requests$request_id.timestamp,\n            medication = _requests$request_id.medication,\n            note = _requests$request_id.note,\n            administered = _requests$request_id.administered,\n            teacher_id = _requests$request_id.teacher_id;\n        var time = formatHourMinute(new Date(timestamp));\n        return React.createElement(TouchableHighlight, {\n          key: request_id,\n          style: {\n            flex: 1,\n            margin: 3\n          },\n          onPress: function onPress() {\n            _this3.props.navigation.push('TeacherMedicineLog', {\n              request_id: request_id\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 33\n          }\n        }, React.createElement(Card, {\n          style: {\n            flex: 1,\n            alignItems: 'center',\n            paddingHorizontal: 15\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 37\n          }\n        }, React.createElement(View, {\n          style: {\n            justifyContent: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 41\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 35\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 45\n          }\n        }, time)), React.createElement(View, {\n          style: {\n            justifyContent: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 41\n          }\n        }, React.createElement(Image, {\n          source: students[student_id].profile_picture === '' ? require(\"../../assets/icon-thumbnail.png\") : {\n            uri: students[student_id].profile_picture\n          },\n          style: styles.thumbnailImage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 45\n          }\n        })), React.createElement(View, {\n          style: {\n            justifyContent: 'center'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 41\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontSize: 25\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 45\n          }\n        }, students[student_id].name))));\n      }))));\n    }\n  }]);\n\n  return MedicationReqeustCard;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  card: {\n    width: '90%',\n    flex: 1\n  },\n  button: {\n    width: '30%',\n    backgroundColor: \"#b5e9e9\"\n  },\n  button_text: {\n    width: '100%',\n    textAlign: 'center',\n    color: 'gray',\n    fontSize: 30\n  },\n  thumbnailImage: {\n    height: 150,\n    width: 150,\n    borderRadius: 75\n  }\n});\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return _objectSpread({}, bindActionCreators({\n    initializeRequests: initializeRequests\n  }, dispatch));\n};\n\nexport default connect(null, mapDispatchToProps, null, {\n  forwardRef: true\n})(MedicationReqeustCard);","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/teacher/medicationrequestcard.js"],"names":["React","Card","connect","bindActionCreators","initializeRequests","formatHourMinute","MedicationReqeustCard","props","state","timerId","fetchData","d","Date","date","getFullYear","getMonth","getDate","fetch","class_id","method","headers","Accept","then","res","json","resJson","statusCode","message","data","requests","finished","unfinished","alert","catch","err","students","medication_requests","flex","width","height","justifyContent","marginTop","fontSize","alignSelf","position","padding","backgroundColor","navigation","push","request_id","styles","button_text","map","student_id","timestamp","medication","note","administered","teacher_id","time","margin","alignItems","paddingHorizontal","profile_picture","require","uri","thumbnailImage","name","Component","StyleSheet","create","card","button","textAlign","color","borderRadius","mapDispatchToProps","dispatch","forwardRef"],"mappings":";;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;;;;;;;;AAEA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,kBAAT;AACA,SAASC,gBAAT;;IAEMC,qB;;;;;AACF,iCAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAE;AADA,KAAb;AAFe;AAKlB;;;;wCAEmB;AAChB,WAAKC,SAAL;AACH;;;gCAEW;AAAA;;AACR,UAAMC,CAAC,GAAG,IAAIC,IAAJ,EAAV;AACA,UAAMC,IAAI,GAAGF,CAAC,CAACG,WAAF,KAAkB,GAAlB,IAAyBH,CAAC,CAACI,QAAF,KAAe,CAAxC,IAA6C,GAA7C,GAAmDJ,CAAC,CAACK,OAAF,EAAhE;AACAC,MAAAA,KAAK,CAAC,uFAAuFJ,IAAvF,GAA8F,YAA9F,GAA6G,KAAKN,KAAL,CAAWW,QAAzH,EAAmI;AACpIC,QAAAA,MAAM,EAAE,KAD4H;AAEpIC,QAAAA,OAAO,EAAE;AACLC,UAAAA,MAAM,EAAE,kBADH;AAEL,0BAAgB;AAFX;AAF2H,OAAnI,CAAL,CAOKC,IAPL,CAOU,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAPb,EAQKF,IARL,CAQU,UAAAG,OAAO,EAAI;AAAA,YACLC,UADK,GACyBD,OADzB,CACLC,UADK;AAAA,YACOC,OADP,GACyBF,OADzB,CACOE,OADP;AAAA,YACgBC,IADhB,GACyBH,OADzB,CACgBG,IADhB;AAAA,YAELC,QAFK,GAE8BD,IAF9B,CAELC,QAFK;AAAA,YAEKC,QAFL,GAE8BF,IAF9B,CAEKE,QAFL;AAAA,YAEeC,UAFf,GAE8BH,IAF9B,CAEeG,UAFf;;AAGb,YAAIL,UAAU,GAAG,GAAb,IAAoBC,OAAO,KAAK,uBAApC,EAA6D;AACzDK,UAAAA,KAAK,CAAC,oBAAoBL,OAArB,CAAL;AACA;AACH;;AACD,QAAA,MAAI,CAACpB,KAAL,CAAWH,kBAAX,CAA8ByB,QAA9B,EAAwCC,QAAxC,EAAkDC,UAAlD;AACH,OAhBL,EAiBKE,KAjBL,CAiBW,UAAAC,GAAG,EAAI;AACVF,QAAAA,KAAK,CAAC,6CAA6CE,GAAG,CAACP,OAAlD,CAAL;AACH,OAnBL;AAoBH;;;6BAEQ;AAAA;;AAAA,UACGQ,QADH,GACgB,KAAK5B,KADrB,CACG4B,QADH;AAAA,kCAE4B,KAAK5B,KAAL,CAAW6B,mBAFvC;AAAA,UAEGP,QAFH,yBAEGA,QAFH;AAAA,UAEaE,UAFb,yBAEaA,UAFb;AAIL,aACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEM,UAAAA,IAAI,EAAE,CAAR;AAAWC,UAAAA,KAAK,EAAE;AAAlB,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,EAAV;AAAcC,UAAAA,cAAc,EAAE,QAA9B;AAAwCC,UAAAA,SAAS,EAAE;AAAnD,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE;AAAEC,UAAAA,QAAQ,EAAE,EAAZ;AAAgBC,UAAAA,SAAS,EAAE,QAA3B;AAAqCC,UAAAA,QAAQ,EAAE;AAA/C,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,EAEI,oBAAC,kBAAD;AACI,QAAA,KAAK,EAAE;AACHN,UAAAA,KAAK,EAAE,KADJ;AAEHK,UAAAA,SAAS,EAAE,UAFR;AAGHC,UAAAA,QAAQ,EAAE,UAHP;AAIHC,UAAAA,OAAO,EAAE,CAJN;AAKHC,UAAAA,eAAe,EAAE;AALd,SADX;AAQI,QAAA,OAAO,EAAE,mBAAM;AACX,UAAA,MAAI,CAACvC,KAAL,CAAWwC,UAAX,CAAsBC,IAAtB,CAA2B,oBAA3B,EAAiD;AAC7CC,YAAAA,UAAU,EAAE;AADiC,WAAjD;AAGH,SAZL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAcI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAEC,MAAM,CAACC,WAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAdJ,CAFJ,CADJ,EAoBI,oBAAC,IAAD;AAAM,QAAA,KAAK,EAAE,EAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAY,QAAA,UAAU,EAAE,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKpB,UAAU,CAACqB,GAAX,CAAe,UAACH,UAAD,EAAgB;AAAA,mCACkDpB,QAAQ,CAACoB,UAAD,CAD1D;AAAA,YACpBI,UADoB,wBACpBA,UADoB;AAAA,YACRC,SADQ,wBACRA,SADQ;AAAA,YACGC,UADH,wBACGA,UADH;AAAA,YACeC,IADf,wBACeA,IADf;AAAA,YACqBC,YADrB,wBACqBA,YADrB;AAAA,YACmCC,UADnC,wBACmCA,UADnC;AAE5B,YAAMC,IAAI,GAAGtD,gBAAgB,CAAC,IAAIO,IAAJ,CAAS0C,SAAT,CAAD,CAA7B;AACA,eACI,oBAAC,kBAAD;AACI,UAAA,GAAG,EAAEL,UADT;AAEI,UAAA,KAAK,EAAE;AAAEZ,YAAAA,IAAI,EAAE,CAAR;AAAWuB,YAAAA,MAAM,EAAE;AAAnB,WAFX;AAGI,UAAA,OAAO,EAAE,mBAAM;AACX,YAAA,MAAI,CAACrD,KAAL,CAAWwC,UAAX,CAAsBC,IAAtB,CAA2B,oBAA3B,EAAiD;AAC7CC,cAAAA,UAAU,EAAVA;AAD6C,aAAjD;AAGH,WAPL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEZ,YAAAA,IAAI,EAAC,CAAP;AAAUwB,YAAAA,UAAU,EAAE,QAAtB;AAAgCC,YAAAA,iBAAiB,EAAE;AAAnD,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEtB,YAAAA,cAAc,EAAE;AAAlB,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEE,YAAAA,QAAQ,EAAE;AAAZ,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCiB,IAAhC,CADJ,CADJ,EAII,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEnB,YAAAA,cAAc,EAAE;AAAlB,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,KAAD;AACI,UAAA,MAAM,EACFL,QAAQ,CAACkB,UAAD,CAAR,CAAqBU,eAArB,KAAyC,EAAzC,GACIC,OAAO,mCADX,GAEM;AAACC,YAAAA,GAAG,EAAE9B,QAAQ,CAACkB,UAAD,CAAR,CAAqBU;AAA3B,WAJd;AAMI,UAAA,KAAK,EAAEb,MAAM,CAACgB,cANlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CAJJ,EAaI,oBAAC,IAAD;AACI,UAAA,KAAK,EAAE;AAAE1B,YAAAA,cAAc,EAAE;AAAlB,WADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGI,oBAAC,IAAD;AAAM,UAAA,KAAK,EAAE;AAAEE,YAAAA,QAAQ,EAAE;AAAZ,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAgCP,QAAQ,CAACkB,UAAD,CAAR,CAAqBc,IAArD,CAHJ,CAbJ,CATJ,CADJ;AA+BH,OAlCA,CADL,CADJ,CApBJ,CADJ;AA8DH;;;;EAvG+BnE,KAAK,CAACoE,S;;AA0G1C,IAAMlB,MAAM,GAAGmB,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,IAAI,EAAE;AACFjC,IAAAA,KAAK,EAAE,KADL;AAEFD,IAAAA,IAAI,EAAE;AAFJ,GADuB;AAK7BmC,EAAAA,MAAM,EAAE;AACJlC,IAAAA,KAAK,EAAE,KADH;AAEJQ,IAAAA,eAAe,EAAC;AAFZ,GALqB;AAS7BK,EAAAA,WAAW,EAAE;AACTb,IAAAA,KAAK,EAAE,MADE;AAETmC,IAAAA,SAAS,EAAE,QAFF;AAGTC,IAAAA,KAAK,EAAE,MAHE;AAIThC,IAAAA,QAAQ,EAAE;AAJD,GATgB;AAe7BwB,EAAAA,cAAc,EAAE;AACZ3B,IAAAA,MAAM,EAAE,GADI;AAEZD,IAAAA,KAAK,EAAE,GAFK;AAGZqC,IAAAA,YAAY,EAAE;AAHF;AAfa,CAAlB,CAAf;;AA4BA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACrC,2BACO1E,kBAAkB,CAAC;AAAEC,IAAAA,kBAAkB,EAAlBA;AAAF,GAAD,EAAyByE,QAAzB,CADzB;AAGH,CAJD;;AAMA,eAAe3E,OAAO,CAAC,IAAD,EAAO0E,kBAAP,EAA2B,IAA3B,EAAiC;AAAEE,EAAAA,UAAU,EAAE;AAAd,CAAjC,CAAP,CAA+DxE,qBAA/D,CAAf","sourcesContent":["import React from 'react'\nimport { View, Text, StyleSheet, Image, TouchableHighlight, ScrollView, Alert } from 'react-native'\nimport { Card } from 'native-base'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { initializeRequests } from '../../redux/school/actions/index'\nimport { formatHourMinute } from '../util'\n\nclass MedicationReqeustCard extends React.Component {\n    constructor(props) {\n        super(props)\n        this.state = {\n            timerId: null\n        }\n    }\n\n    componentDidMount() {\n        this.fetchData()\n    }\n\n    fetchData() {\n        const d = new Date()\n        const date = d.getFullYear() + '-' + (d.getMonth() + 1) + '-' + d.getDate()\n        fetch('https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/medicationrequest?date=' + date + '&class_id=' + this.props.class_id, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then(resJson => {\n                const { statusCode, message, data } = resJson\n                const { requests, finished, unfinished } = data\n                if (statusCode > 200 || message === 'Internal server error') {\n                    alert('托藥單取不完整，請和工程師聯繫' + message)\n                    return\n                }\n                this.props.initializeRequests(requests, finished, unfinished)\n            })\n            .catch(err => {\n                alert('Error, please try again 托藥單取不完整，請和工程師聯繫：' + err.message)\n            })\n    }\n\n    render() {\n        const { students } = this.props\n        const { requests, unfinished } = this.props.medication_requests\n        // console.log('this.props.medication_requests: ', this.props.medication_requests)\n        return (\n            <Card style={{ flex: 1, width: '90%'}}>\n                <View style={{ height: 80, justifyContent: 'center', marginTop: 5 }}>\n                    <Text style={{ fontSize: 30, alignSelf: 'center', position: 'absolute' }}>托藥單</Text>\n                    <TouchableHighlight\n                        style={{\n                            width: '25%',\n                            alignSelf: 'flex-end',\n                            position: 'absolute',\n                            padding: 5,\n                            backgroundColor: '#b5e9e9'\n                        }}\n                        onPress={() => {\n                            this.props.navigation.push('TeacherMedicineLog', {\n                                request_id: null\n                            })\n                        }}\n                    >\n                        <Text style={styles.button_text}>查看</Text>\n                    </TouchableHighlight>\n                </View>\n                <View style={{ }}>\n                    <ScrollView horizontal={true}>\n                        {unfinished.map((request_id) => {\n                            const { student_id, timestamp, medication, note, administered, teacher_id } = requests[request_id]\n                            const time = formatHourMinute(new Date(timestamp))\n                            return (\n                                <TouchableHighlight\n                                    key={request_id}\n                                    style={{ flex: 1, margin: 3 }}\n                                    onPress={() => {\n                                        this.props.navigation.push('TeacherMedicineLog', {\n                                            request_id\n                                        })\n                                    }}\n                                >\n                                    <Card style={{ flex:1, alignItems: 'center', paddingHorizontal: 15 }}>\n                                        <View style={{ justifyContent: 'center' }}>\n                                            <Text style={{ fontSize: 35 }}>{time}</Text>\n                                        </View>\n                                        <View style={{ justifyContent: 'center' }}>\n                                            <Image\n                                                source={\n                                                    students[student_id].profile_picture === '' ?\n                                                        require('../../assets/icon-thumbnail.png')\n                                                        : {uri: students[student_id].profile_picture} \n                                                }\n                                                style={styles.thumbnailImage}/>\n                                        </View>\n                                        <View\n                                            style={{ justifyContent: 'center' }}\n                                        >\n                                            <Text style={{ fontSize: 25 }}>{students[student_id].name}</Text>\n                                        </View>\n                                    </Card>\n                                </TouchableHighlight>\n                            )\n                        })}\n                    </ScrollView>\n                </View>\n            </Card>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    card: {\n        width: '90%',\n        flex: 1\n    },\n    button: {\n        width: '30%',\n        backgroundColor:\"#b5e9e9\"\n    },\n    button_text: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontSize: 30,\n    },\n    thumbnailImage: {\n        height: 150,\n        width: 150,\n        borderRadius: 75\n    }\n})\n\n// const mapStateToProps = (state) => {\n//     return {\n//         medication_requests: state.medicationrequests\n//     }\n// }\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        ...bindActionCreators({ initializeRequests }, dispatch)\n    }\n}\n\nexport default connect(null, mapDispatchToProps, null, { forwardRef: true }) (MedicationReqeustCard)"]},"metadata":{},"sourceType":"module"}