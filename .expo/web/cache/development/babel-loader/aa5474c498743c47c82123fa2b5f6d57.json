{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/caleb_lee/gina_web_app/components/teacher/teacherhome.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function () { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { Text, Button, Container, Content, Toast } from 'native-base';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { setConnectState, initializeClass, setClassId, clearState } from \"../../redux/school/actions/index\";\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport LoginNumberPad from \"./loginnumberpad\";\nimport AttendanceCard from \"./attendancecard\";\nimport MedicationReqeustCard from \"./medicationrequestcard\";\nimport Reloading from \"../reloading\";\nimport PickupAlert from \"./pickupalert\";\nimport Modal from \"./modal\";\nimport NetInfo from '@react-native-community/netinfo';\nimport InboxCard from \"./inboxcard\";\n\nvar TeacherHome = function (_React$Component) {\n  _inherits(TeacherHome, _React$Component);\n\n  var _super = _createSuper(TeacherHome);\n\n  function TeacherHome(props) {\n    var _this;\n\n    _classCallCheck(this, TeacherHome);\n\n    _this = _super.call(this, props);\n\n    _this.timer = function (class_id) {\n      return setTimeout(function () {\n        _this.poll(class_id);\n      }, 10000);\n    };\n\n    _this.state = {\n      isLoading: true,\n      showLoginNumberPad: false,\n      pageClicked: '',\n      alertForPickup: false,\n      pickupQueue: [],\n      showModal: false,\n      modalStudentId: '',\n      modalTeacherId: '',\n      isAdmin: false,\n      admin_id: ''\n    };\n    _this.initializeClass = _this.initializeClass.bind(_assertThisInitialized(_this));\n    _this.handleEnterPasscode = _this.handleEnterPasscode.bind(_assertThisInitialized(_this));\n    _this.hideLoginPad = _this.hideLoginPad.bind(_assertThisInitialized(_this));\n    _this.onConfirmPickup = _this.onConfirmPickup.bind(_assertThisInitialized(_this));\n    _this.showModal = _this.showModal.bind(_assertThisInitialized(_this));\n    _this.hideModal = _this.hideModal.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(TeacherHome, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.unsubscribe = NetInfo.addEventListener(function (state) {\n        var isConnected = state.isConnected;\n\n        _this2.props.setConnectState(isConnected);\n      });\n      var _this$props$route$par = this.props.route.params,\n          class_id = _this$props$route$par.class_id,\n          class_name = _this$props$route$par.class_name,\n          isAdmin = _this$props$route$par.isAdmin,\n          admin_id = _this$props$route$par.admin_id;\n      this.setState({\n        isAdmin: isAdmin,\n        admin_id: admin_id\n      });\n      this.props.setClassId(class_id);\n      this.initializeClass(class_id);\n      this.timeoutId = this.timer(class_id);\n      this.props.navigation.setOptions({\n        title: class_name\n      });\n    }\n  }, {\n    key: \"poll\",\n    value: function poll(class_id) {\n      var _this3 = this;\n\n      var query;\n      return _regeneratorRuntime.async(function poll$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              query = \"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/class/\" + class_id + \"/updates\";\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(fetch(query, {\n                method: 'GET',\n                headers: {\n                  Accept: 'application/json',\n                  'Content-Type': 'application/json'\n                }\n              }).then(function (res) {\n                return res.json();\n              }).then(function (resJson) {\n                var update_types = resJson.data;\n                update_types.forEach(function (type) {\n                  _this3.refs[type].fetchData();\n                });\n              }).catch(function (err) {\n                console.log('err: ', err);\n              }));\n\n            case 3:\n              this.timeoutId = this.timer(class_id);\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"initializeClass\",\n    value: function initializeClass(class_id) {\n      var _this4 = this;\n\n      fetch(\"https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/class/\" + class_id, {\n        method: 'GET',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (resJson) {\n        _this4.props.initializeClass(resJson.teachers, resJson.students);\n\n        _this4.setState({\n          isLoading: false\n        });\n      }).catch(function (err) {\n        console.log('err: ', err);\n      });\n    }\n  }, {\n    key: \"handleEnterPasscode\",\n    value: function handleEnterPasscode(passcode) {\n      var teacher_id = this.props.class.passcodeTeacherId[passcode];\n\n      if (teacher_id === undefined) {\n        Toast.show({\n          text: 'Wrong password!',\n          buttonText: 'Okay',\n          position: \"top\",\n          type: \"warning\",\n          duration: 3000\n        });\n      } else if (this.state.pageClicked === 'attendance_modal') {\n        this.setState({\n          showModal: true,\n          showLoginNumberPad: false,\n          modalTeacherId: teacher_id\n        });\n      } else {\n        this.props.navigation.navigate(this.state.pageClicked, {\n          teacher_id: teacher_id,\n          class: this.props.class\n        });\n        this.setState({\n          showLoginNumberPad: false\n        });\n      }\n    }\n  }, {\n    key: \"pageClicked\",\n    value: function pageClicked(_pageClicked) {\n      var _this$state = this.state,\n          isAdmin = _this$state.isAdmin,\n          admin_id = _this$state.admin_id;\n\n      if (isAdmin) {\n        this.props.navigation.push(_pageClicked, {\n          class: this.props.class,\n          teacher_id: admin_id\n        });\n      } else {\n        this.setState({\n          showLoginNumberPad: true,\n          pageClicked: _pageClicked\n        });\n      }\n    }\n  }, {\n    key: \"hideLoginPad\",\n    value: function hideLoginPad() {\n      this.setState({\n        showLoginNumberPad: false\n      });\n    }\n  }, {\n    key: \"onConfirmPickup\",\n    value: function onConfirmPickup() {\n      var newPickupQueue = this.state.pickupQueue.slice(1, this.state.pickupQueue.length);\n      this.setState({\n        alertForPickup: newPickupQueue.length === 0 ? false : true,\n        pickupQueue: newPickupQueue\n      });\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal(student_id) {\n      this.setState({\n        showLoginNumberPad: true,\n        pageClicked: 'attendance_modal',\n        modalStudentId: student_id\n      });\n    }\n  }, {\n    key: \"hideModal\",\n    value: function hideModal() {\n      this.setState({\n        showModal: false\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearTimeout(this.timeoutId);\n      this.props.clearState();\n      this.unsubscribe();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n\n      var class_id = this.props.route.params.class_id;\n\n      if (this.state.isLoading) {\n        return React.createElement(Reloading, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }\n        });\n      }\n\n      return React.createElement(Container, {\n        style: {\n          flex: 1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, this.state.showLoginNumberPad ? React.createElement(LoginNumberPad, {\n        handleEnterPasscode: function handleEnterPasscode(passcode) {\n          return _this5.handleEnterPasscode(passcode);\n        },\n        hideLoginPad: this.hideLoginPad,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }\n      }) : null, React.createElement(Modal, {\n        show: this.state.showModal,\n        student_id: this.state.modalStudentId,\n        teacher_id: this.state.modalTeacherId,\n        class_id: class_id,\n        hideModal: this.hideModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }\n      }), React.createElement(Content, {\n        contentContainerStyle: {\n          marginTop: 30,\n          paddingBottom: 50,\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, React.createElement(InboxCard, {\n        ref: \"messages\",\n        class_id: class_id,\n        students: this.props.class.students,\n        navigation: this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }\n      }), React.createElement(MedicationReqeustCard, {\n        ref: \"med_request\",\n        class_id: class_id,\n        students: this.props.class.students,\n        medication_requests: this.props.medication_requests,\n        navigation: this.props.navigation,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 21\n        }\n      }), React.createElement(View, {\n        style: styles.button_row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 21\n        }\n      }, React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('WellnessLog');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 29\n        }\n      }, \"\\u5065\\u5EB7\")), React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('MessageForParents');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 29\n        }\n      }, \"\\u8001\\u5E2B\", \"\\n\", \"\\uF9CD\\u2F94\")), React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('TeacherAppetiteLog');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 29\n        }\n      }, \"\\u98F2\\u98DF\"))), React.createElement(View, {\n        style: styles.button_row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 21\n        }\n      }, React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('TeacherSleepLog');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 29\n        }\n      }, \"\\u7761\\u7720\")), React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('TeacherMilkLog');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 29\n        }\n      }, \"\\u9935\\u5976\")), React.createElement(Button, {\n        style: styles.record_button,\n        onPress: function onPress() {\n          return _this5.pageClicked('DiaperLog');\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 25\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 29\n        }\n      }, \"\\u63DB\\u5C3F\\u5E03\"))), React.createElement(Button, {\n        style: styles.button,\n        onPress: function onPress() {\n          return _this5.props.navigation.goBack();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: styles.button_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 25\n        }\n      }, \"\\u8FD4\\u56DE\"))));\n    }\n  }]);\n\n  return TeacherHome;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  card: {\n    width: '90%'\n  },\n  button_row: {\n    width: '90%',\n    height: 100,\n    justifyContent: 'space-between',\n    flexDirection: 'row',\n    marginVertical: 7,\n    paddingHorizontal: 3\n  },\n  button_text: {\n    width: '100%',\n    textAlign: 'center',\n    color: 'gray',\n    fontSize: 40\n  },\n  record_button: {\n    width: '30%',\n    height: '100%',\n    backgroundColor: \"#b5e9e9\"\n  },\n  button: {\n    width: '30%',\n    backgroundColor: \"#b5e9e9\"\n  }\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    class: state.classInfo,\n    medication_requests: state.medicationrequests,\n    attendance: state.attendance,\n    teachers: state.school.teachers\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return _objectSpread({}, bindActionCreators({\n    setConnectState: setConnectState,\n    initializeClass: initializeClass,\n    setClassId: setClassId,\n    clearState: clearState\n  }, dispatch));\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TeacherHome);","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/teacher/teacherhome.js"],"names":["React","Text","Button","Container","Content","Toast","setConnectState","initializeClass","setClassId","clearState","connect","bindActionCreators","LoginNumberPad","AttendanceCard","MedicationReqeustCard","Reloading","PickupAlert","Modal","NetInfo","InboxCard","TeacherHome","props","timer","class_id","setTimeout","poll","state","isLoading","showLoginNumberPad","pageClicked","alertForPickup","pickupQueue","showModal","modalStudentId","modalTeacherId","isAdmin","admin_id","bind","handleEnterPasscode","hideLoginPad","onConfirmPickup","hideModal","unsubscribe","addEventListener","isConnected","route","params","class_name","setState","timeoutId","navigation","setOptions","title","query","fetch","method","headers","Accept","then","res","json","resJson","update_types","data","forEach","type","refs","fetchData","catch","err","console","log","teachers","students","passcode","teacher_id","class","passcodeTeacherId","undefined","show","text","buttonText","position","duration","navigate","push","newPickupQueue","slice","length","student_id","clearTimeout","flex","marginTop","paddingBottom","alignItems","justifyContent","medication_requests","styles","button_row","record_button","button_text","button","goBack","Component","StyleSheet","create","card","width","height","flexDirection","marginVertical","paddingHorizontal","textAlign","color","fontSize","backgroundColor","mapStateToProps","classInfo","medicationrequests","attendance","school","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Text, Button, Container, Content, Toast} from 'native-base'\nimport { StyleSheet, View } from 'react-native'\nimport { setConnectState, initializeClass, setClassId, clearState } from '../../redux/school/actions/index'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport LoginNumberPad from './loginnumberpad'\nimport AttendanceCard from './attendancecard'\nimport MedicationReqeustCard from './medicationrequestcard'\nimport Reloading from '../reloading'\nimport PickupAlert from './pickupalert'\nimport Modal from './modal'\nimport NetInfo from '@react-native-community/netinfo'\nimport InboxCard from './inboxcard'\n\n\nclass TeacherHome extends React.Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n            isLoading: true,\n            showLoginNumberPad: false,\n            pageClicked: '',\n            alertForPickup: false,\n            pickupQueue: [],\n            showModal: false,\n            modalStudentId: '',\n            modalTeacherId: '',\n            isAdmin: false,\n            admin_id: ''\n        }\n        this.initializeClass = this.initializeClass.bind(this)\n        this.handleEnterPasscode = this.handleEnterPasscode.bind(this)\n        this.hideLoginPad = this.hideLoginPad.bind(this)\n        this.onConfirmPickup = this.onConfirmPickup.bind(this)\n        this.showModal = this.showModal.bind(this)\n        this.hideModal = this.hideModal.bind(this)\n    }\n\n    componentDidMount() {\n        this.unsubscribe = NetInfo.addEventListener(state => {\n            const {isConnected} = state\n            this.props.setConnectState(isConnected)\n        });\n        const { class_id, class_name, isAdmin, admin_id } = this.props.route.params\n        this.setState({ isAdmin, admin_id })\n        this.props.setClassId(class_id)\n        this.initializeClass(class_id)\n        this.timeoutId = this.timer(class_id)\n        this.props.navigation.setOptions({ \n            title: class_name\n        })\n    }\n\n    timer = (class_id) => setTimeout(() => {\n        this.poll(class_id)\n    }, 10000)\n\n    async poll(class_id) {\n        const query = `https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/class/${class_id}/updates`\n        await fetch(query, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then(resJson => { // TODO: make sure to disable this polling for admin log in\n                // console.log('teacherhome/poll/resJson: ', resJson)\n                const update_types = resJson.data\n                update_types.forEach(type => {\n                    this.refs[type].fetchData()\n                })\n            })\n            .catch(err => {console.log('err: ', err)})\n        this.timeoutId = this.timer(class_id)\n    }\n\n    initializeClass(class_id) {\n        fetch(`https://iejnoswtqj.execute-api.us-east-1.amazonaws.com/dev/class/${class_id}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then((res) => res.json())\n            .then((resJson) => {\n                // console.log('teacherHome/resJson: ', resJson)\n                this.props.initializeClass(resJson.teachers, resJson.students)\n                this.setState({\n                    isLoading: false\n                })\n        }).catch(err => {\n            console.log('err: ', err)\n        })\n    }\n\n    handleEnterPasscode(passcode) {\n        const teacher_id = this.props.class.passcodeTeacherId[passcode]\n        if (teacher_id === undefined) {\n            Toast.show({\n                text: 'Wrong password!',\n                buttonText: 'Okay',\n                position: \"top\",\n                type: \"warning\",\n                duration: 3000\n            })\n        } else if (this.state.pageClicked === 'attendance_modal') {\n            this.setState({\n                showModal: true,\n                showLoginNumberPad: false,\n                modalTeacherId: teacher_id\n            })\n        } else {\n            this.props.navigation.navigate(this.state.pageClicked, {\n                teacher_id: teacher_id,\n                class: this.props.class,\n            })\n            this.setState({ showLoginNumberPad: false })\n        }\n    }\n\n    pageClicked(pageClicked) {\n        const { isAdmin, admin_id } = this.state\n        if (isAdmin) {\n            this.props.navigation.push(pageClicked, {\n                class: this.props.class,\n                teacher_id: admin_id\n            })\n        } else {\n            this.setState({ showLoginNumberPad: true, pageClicked})\n        }\n    }\n\n    hideLoginPad() {\n        this.setState({ showLoginNumberPad: false })\n    }\n\n    onConfirmPickup() {\n        var newPickupQueue = this.state.pickupQueue.slice(1, this.state.pickupQueue.length)\n        this.setState({\n            alertForPickup: newPickupQueue.length === 0 ? false : true,\n            pickupQueue: newPickupQueue\n        })\n    }\n\n    showModal(student_id) {\n        this.setState({\n            showLoginNumberPad: true,\n            pageClicked: 'attendance_modal',\n            modalStudentId: student_id\n        })\n    }\n\n    hideModal() {\n        this.setState({\n            showModal: false\n        })\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.timeoutId)\n        this.props.clearState()\n        this.unsubscribe()\n    }\n\n    render() {\n        const { class_id } = this.props.route.params\n        if (this.state.isLoading) {\n            return (\n                <Reloading />\n            )\n        }\n        return (\n            <Container style={{ flex: 1 }}>\n                {this.state.showLoginNumberPad ? \n                    <LoginNumberPad\n                        handleEnterPasscode={(passcode) => this.handleEnterPasscode(passcode)}\n                        hideLoginPad={this.hideLoginPad}\n                    /> : null\n                }\n                {/* <PickupAlert\n                    ref=\"pickup_request\"\n                    class_id={class_id}\n                    students={this.props.class.students}\n                /> */}\n\n                <Modal\n                    show={this.state.showModal}\n                    student_id={this.state.modalStudentId}\n                    teacher_id={this.state.modalTeacherId}\n                    class_id={class_id}\n                    hideModal={this.hideModal}\n                />\n\n                <Content contentContainerStyle={{\n                    marginTop: 30,\n                    paddingBottom: 50,\n                    alignItems: 'center',\n                    justifyContent: 'center'\n                }}>\n                    {/* <Button\n                        style={styles.button}\n                        onPress={() => {this.props.navigation.push('TeacherClockInOut')}}>\n                        <Text style={styles.button_text}>打卡</Text>\n                    </Button> */}\n\n                    {/* <View style={styles.card}>\n                        {this.props.attendance.initialized ? \n                            <AttendanceCard\n                                ref=\"attendance\"\n                                navigator={this.props.navigation}\n                                showModal={(student_id) => this.showModal(student_id)}\n                            />\n                        : <Reloading />\n                        }\n                    </View> */}\n                    <InboxCard\n                        ref=\"messages\"\n                        class_id={class_id}\n                        students={this.props.class.students}\n                        navigation={this.props.navigation}\n                    />\n\n                    <MedicationReqeustCard\n                        ref=\"med_request\"\n                        class_id={class_id}\n                        students={this.props.class.students}\n                        medication_requests={this.props.medication_requests}\n                        navigation={this.props.navigation}\n                    />\n\n                    <View style={styles.button_row}>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('WellnessLog')}>\n                            <Text style={styles.button_text}>健康</Text>\n                        </Button>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('MessageForParents')}>\n                            <Text style={styles.button_text}>老師{\"\\n\"}留⾔</Text>\n                            </Button>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('TeacherAppetiteLog')}>\n                            <Text style={styles.button_text}>飲食</Text>\n                        </Button>\n                    </View>\n                    <View style={styles.button_row}>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('TeacherSleepLog')}>\n                            <Text style={styles.button_text}>睡眠</Text>\n                        </Button>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('TeacherMilkLog')}>\n                            <Text style={styles.button_text}>餵奶</Text>\n                        </Button>\n                        <Button\n                            style={styles.record_button}\n                            onPress={() => this.pageClicked('DiaperLog')}>\n                            <Text style={styles.button_text}>換尿布</Text>\n                        </Button>\n                    </View>\n                    <Button\n                        style={styles.button}\n                        onPress={() => this.props.navigation.goBack()}>\n                        <Text style={styles.button_text}>返回</Text>\n                    </Button>\n                </Content>\n            </Container>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    card: {\n        width: '90%'\n    },\n    button_row: {\n        width: '90%',\n        height: 100,\n        justifyContent: 'space-between',\n        flexDirection: 'row',\n        marginVertical: 7,\n        paddingHorizontal: 3\n    },\n    button_text: {\n        width: '100%',\n        textAlign: 'center',\n        color: 'gray',\n        fontSize: 40\n    },\n    record_button: {\n        width: '30%',\n        height: '100%',\n        backgroundColor:\"#b5e9e9\"\n    },\n    button: {\n        width: '30%',\n        backgroundColor:\"#b5e9e9\"\n    }\n})\n\nconst mapStateToProps = (state) => {\n    return {\n        class: state.classInfo,\n        medication_requests: state.medicationrequests,\n        attendance: state.attendance,\n        teachers: state.school.teachers\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        ...bindActionCreators({setConnectState, initializeClass, setClassId, clearState}, dispatch)\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps) (TeacherHome)"]},"metadata":{},"sourceType":"module"}