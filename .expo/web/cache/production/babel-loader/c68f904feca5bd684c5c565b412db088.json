{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Alert from\"react-native-web/dist/exports/Alert\";import Picker from\"react-native-web/dist/exports/Picker\";import Auth from'@aws-amplify/auth';var RegisterParents=function(_React$Component){_inherits(RegisterParents,_React$Component);var _super=_createSuper(RegisterParents);function RegisterParents(props){var _this;_classCallCheck(this,RegisterParents);_this=_super.call(this,props);_this.state={parentDataArray:[{name:'',email:'',username:'',password:'',role:'父',mobile:'',address:'',work_phone:'',transportation:''}],parentSignUpStatus:[false]};return _this;}_createClass(RegisterParents,[{key:\"addParent\",value:function addParent(){var _this$state=this.state,parentDataArray=_this$state.parentDataArray,parentSignUpStatus=_this$state.parentSignUpStatus;parentDataArray.push({name:'',email:'',username:'',password:'',role:'父',mobile:'',address:'',work_phone:'',transportation:''});parentSignUpStatus.push(false);this.setState({parentDataArray:parentDataArray,parentSignUpStatus:parentSignUpStatus});}},{key:\"fillParent\",value:function fillParent(){var parentDataArray=this.state.parentDataArray;parentDataArray[0]={name:'Jane Smith',email:'caleb7947@gmail.com',username:'abc123',password:'password',role:'parent#mother',mobile:'061234567',address:'SOME ADDRESS',work_phone:'061234567',transportation:'car'};this.setState({parentDataArray:parentDataArray});}},{key:\"setName\",value:function setName(name,index){var parentDataArray=this.state.parentDataArray;parentDataArray[index].name=name;this.setState({parentDataArray:parentDataArray});}},{key:\"setRole\",value:function setRole(role,index){var parentDataArray=this.state.parentDataArray;parentDataArray[index].role=role;this.setState({parentDataArray:parentDataArray});}},{key:\"setEmail\",value:function setEmail(email,index){var parentDataArray=this.state.parentDataArray;parentDataArray[index].email=email;this.setState({parentDataArray:parentDataArray});}},{key:\"setUsername\",value:function setUsername(username,index){var parentDataArray=this.state.parentDataArray;parentDataArray[index].username=username;this.setState({parentDataArray:parentDataArray});}},{key:\"toLowerCase\",value:function toLowerCase(event,index){var text=event.nativeEvent.text;var parentDataArray=this.state.parentDataArray;var username=text.toLowerCase();parentDataArray[index].username=username;this.setState({parentDataArray:parentDataArray});}},{key:\"setPassword\",value:function setPassword(password,index){var parentDataArray=this.state.parentDataArray;parentDataArray[index].password=password;this.setState({parentDataArray:parentDataArray});}},{key:\"removeParent\",value:function removeParent(index){var _this$state2=this.state,parentDataArray=_this$state2.parentDataArray,parentSignUpStatus=_this$state2.parentSignUpStatus;parentDataArray.splice(index,1);parentSignUpStatus.splice(index,1);this.setState({parentDataArray:parentDataArray,parentSignUpStatus:parentSignUpStatus});}},{key:\"handleSignup\",value:function handleSignup(index){var _this2=this;var _this$state$parentDat=this.state.parentDataArray[index],name=_this$state$parentDat.name,email=_this$state$parentDat.email,username=_this$state$parentDat.username,password=_this$state$parentDat.password;Auth.signUp({username:username,password:password,attributes:{name:name,email:email}}).then(function(values){var parentSignUpStatus=_this2.state.parentSignUpStatus;parentSignUpStatus[index]=true;_this2.setState({parentSignUpStatus:parentSignUpStatus});}).catch(function(err){alert('註冊有問題!請與工程師聯繫\\n\\n'+err.message);});}},{key:\"getParentSignUpStatus\",value:function getParentSignUpStatus(){return this.state.parentSignUpStatus;}},{key:\"getParentDataArray\",value:function getParentDataArray(){return this.state.parentDataArray;}},{key:\"render\",value:function render(){var _this3=this;var _this$state3=this.state,parentDataArray=_this$state3.parentDataArray,parentSignUpStatus=_this$state3.parentSignUpStatus;return React.createElement(View,{style:{width:'100%',padding:'5%',backgroundColor:'#f4d41f'}},React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',alignItems:'center',paddingVertical:5,backgroundColor:'rgba(255,255,255,0.4)'}},React.createElement(Text,{style:{fontSize:60}},\"\\u5BB6\\u9577\\u8CC7\\u6599\"),React.createElement(TouchableHighlight,{style:{padding:10,backgroundColor:'#b5e9e9'},onPress:function onPress(){return _this3.addParent();}},React.createElement(Text,{style:{fontSize:35}},\"\\u65B0\\u589E\\u5BB6\\u9577\"))),parentDataArray.map(function(parent,index){var name=parent.name,email=parent.email,username=parent.username,password=parent.password,role=parent.role,mobile=parent.mobile,address=parent.address,work_phone=parent.work_phone,transportation=parent.transportation;return React.createElement(View,{key:index,style:{padding:10,backgroundColor:'white',marginBottom:20}},React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',marginBottom:'5%'}},React.createElement(View,{style:{width:'50%',padding:10,backgroundColor:'#F5F5F5',borderRadius:2,borderBottomWidth:2,borderBottomColor:'#b5e9e9',justifyContent:'center'}},React.createElement(TextInput,{placeholder:\"\\u5168\\u540D\",value:name,style:{fontSize:30},onChangeText:function onChangeText(name){return _this3.setName(name,index);}})),React.createElement(View,{style:{width:'20%',padding:10,backgroundColor:'#F5F5F5',borderRadius:2,borderBottomWidth:2,borderBottomColor:'#b5e9e9',justifyContent:'center'}},React.createElement(Picker,{selectedValue:role,style:{height:50},onValueChange:function onValueChange(itemValue,itemIndex){return _this3.setRole(itemValue,index);}},React.createElement(Picker.Item,{label:\"\\u7236\",value:\"\\u7236\"}),React.createElement(Picker.Item,{label:\"\\u6BCD\",value:\"\\u6BCD\"}))),React.createElement(TouchableHighlight,{style:{width:'20%',padding:10,backgroundColor:'#fa625f',borderRadius:2,justifyContent:'center'},onPress:function onPress(){return _this3.removeParent(index);}},React.createElement(Text,{style:{alignSelf:'center',fontSize:30}},\"\\u79FB\\u9664\"))),React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',marginBottom:'5%'}},React.createElement(View,{style:{width:'100%',padding:10,backgroundColor:'#F5F5F5',borderRadius:2,borderBottomWidth:2,borderBottomColor:'#b5e9e9',justifyContent:'center'}},React.createElement(TextInput,{placeholder:\"Email\",autoCapitalize:\"none\",keyboardType:\"email-address\",value:email,style:{fontSize:30},onChangeText:function onChangeText(email){return _this3.setEmail(email,index);}}))),React.createElement(View,{style:{flexDirection:'row',justifyContent:'space-between',marginBottom:'5%'}},React.createElement(View,{style:{width:'35%',padding:10,backgroundColor:'#F5F5F5',borderRadius:2,borderBottomWidth:2,borderBottomColor:'#b5e9e9',justifyContent:'center'}},React.createElement(TextInput,{placeholder:\"\\u5E33\\u865F\",autoCapitalize:\"none\",value:username,style:{fontSize:30},onChangeText:function onChangeText(username){return _this3.setUsername(username,index);},onEndEditing:function onEndEditing(username){return _this3.toLowerCase(username,index);}})),React.createElement(View,{style:{width:'35%',padding:10,backgroundColor:'#F5F5F5',borderRadius:2,borderBottomWidth:2,borderBottomColor:'#b5e9e9',justifyContent:'center'}},React.createElement(TextInput,{secureTextEntry:true,placeholder:\"\\u5BC6\\u78BC\",value:password,style:{fontSize:30},onChangeText:function onChangeText(password){return _this3.setPassword(password,index);}})),React.createElement(TouchableHighlight,{style:{width:'20%',padding:5,backgroundColor:parentSignUpStatus[index]?'#dcf3d0':'#ffe1d0',justifyContent:'center'},onPress:function onPress(){return _this3.handleSignup(index);},disable:parentSignUpStatus[index]},parentSignUpStatus[index]?React.createElement(Text,{style:{fontSize:20}},\"SUCCESS\"):React.createElement(Text,{style:{fontSize:35,alignSelf:'center'}},\"\\u8A3B\\u518A\"))));}));}}]);return RegisterParents;}(React.Component);export{RegisterParents as default};","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/teacher/admin/registerparents.js"],"names":["React","Auth","RegisterParents","props","state","parentDataArray","name","email","username","password","role","mobile","address","work_phone","transportation","parentSignUpStatus","push","setState","index","event","text","nativeEvent","toLowerCase","splice","signUp","attributes","then","values","catch","err","alert","message","width","padding","backgroundColor","flexDirection","justifyContent","alignItems","paddingVertical","fontSize","addParent","map","parent","marginBottom","borderRadius","borderBottomWidth","borderBottomColor","setName","height","itemValue","itemIndex","setRole","removeParent","alignSelf","setEmail","setUsername","setPassword","handleSignup","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { View, Text, TouchableHighlight, TextInput, Alert, Picker } from 'react-native'\nimport Auth from '@aws-amplify/auth'\n\nexport default class RegisterParents extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state={\n        parentDataArray: [{\n            name: '',\n            email: '', \n            username: '',\n            password: '',\n            role: '父',\n            mobile: '',\n            address: '',\n            work_phone: '',\n            transportation: ''\n        }],\n        parentSignUpStatus: [false],\n    }\n  }\n\n  addParent() {\n    const { parentDataArray, parentSignUpStatus } = this.state\n    parentDataArray.push({\n      name: '',\n      email: '', \n      username: '',\n      password: '',\n      role: '父',\n      mobile: '',\n      address: '',\n      work_phone: '',\n      transportation: ''\n    })\n\n    parentSignUpStatus.push(false)\n\n    this.setState({\n      parentDataArray,\n      parentSignUpStatus\n    })\n  }\n\n  fillParent() {\n    const { parentDataArray } = this.state\n    parentDataArray[0] = {\n      name: 'Jane Smith',\n      email: 'caleb7947@gmail.com', \n      username: 'abc123',\n      password: 'password',\n      role: 'parent#mother',\n      mobile: '061234567',\n      address: 'SOME ADDRESS',\n      work_phone: '061234567',\n      transportation: 'car'\n    }\n    this.setState({\n      parentDataArray\n    })\n  }\n\n  setName(name, index) {\n    const { parentDataArray } = this.state\n    parentDataArray[index].name = name\n    this.setState({\n        parentDataArray\n    })\n  }\n\n  setRole(role, index) {\n    const { parentDataArray } = this.state\n    parentDataArray[index].role = role\n    this.setState({\n        parentDataArray\n    })\n  }\n\n  setEmail(email, index) {\n    const { parentDataArray } = this.state\n    parentDataArray[index].email = email\n    this.setState({\n        parentDataArray\n    })\n  }\n\n  setUsername(username, index) {\n    const { parentDataArray } = this.state\n    parentDataArray[index].username = username\n    this.setState({\n        parentDataArray\n    })\n  }\n\n  toLowerCase(event, index) {\n      const { text } = event.nativeEvent\n      const { parentDataArray } = this.state\n      const username = text.toLowerCase()\n      parentDataArray[index].username = username\n      this.setState({ parentDataArray })\n  }\n\n  setPassword(password, index) {\n    const { parentDataArray } = this.state\n    parentDataArray[index].password = password\n    this.setState({\n        parentDataArray\n    })\n  }\n\n  removeParent(index) {\n      const { parentDataArray, parentSignUpStatus } = this.state\n      parentDataArray.splice(index, 1)\n      parentSignUpStatus.splice(index, 1)\n      this.setState({\n          parentDataArray,\n          parentSignUpStatus\n      })\n  }\n\n  handleSignup(index) {\n    const { name, email, username, password } = this.state.parentDataArray[index]\n\n    Auth.signUp({\n      username,\n      password,\n      attributes: {\n          name,\n          email\n      }\n    })\n      .then(values => {\n        // console.log(values)\n        const { parentSignUpStatus } = this.state\n        parentSignUpStatus[index] = true\n        this.setState({\n          parentSignUpStatus\n        })\n      })\n      .catch(err => {\n        alert('註冊有問題!請與工程師聯繫\\n\\n' + err.message)\n    })\n  }\n\n  getParentSignUpStatus() {\n      return this.state.parentSignUpStatus\n  }\n\n  getParentDataArray() {\n      return this.state.parentDataArray\n  }\n\n  render() {\n    const { parentDataArray, parentSignUpStatus } = this.state\n    // console.log('parentDataArray: ', parentDataArray)\n    return (\n\n        <View style={{ width: '100%', padding: '5%', backgroundColor: '#f4d41f' }}>\n          <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 5, backgroundColor: 'rgba(255,255,255,0.4)' }}>\n          <Text style={{ fontSize: 60 }}>家長資料</Text>\n          <TouchableHighlight\n            style={{ padding: 10, backgroundColor: '#b5e9e9' }}\n            onPress={() => this.addParent()}\n          >\n            <Text style={{ fontSize: 35 }}>新增家長</Text>\n          </TouchableHighlight>\n\n          {/* <TouchableHighlight\n            style={{ padding: 10, backgroundColor: '#b5e9e9' }}\n            onPress={() => this.fillParent()}\n          >\n            <Text style={{ fontSize: 20 }}>Fill Parent</Text>\n          </TouchableHighlight> */}\n        </View>\n        \n        {parentDataArray.map((parent, index) => {\n          const { name, email, username, password, role, mobile, address, work_phone, transportation } = parent\n          return (\n            <View\n              key={index}\n              style={{padding: 10, backgroundColor: 'white', marginBottom: 20 }}\n            >\n              {/* FIRST ROW */}\n              <View \n                style={{ flexDirection: 'row', justifyContent: 'space-between', marginBottom: '5%' }}\n              >\n                <View\n                  style={{\n                    width: '50%',\n                    padding: 10,\n                    backgroundColor: '#F5F5F5',\n                    borderRadius: 2,\n                    borderBottomWidth: 2,\n                    borderBottomColor: '#b5e9e9',\n                    justifyContent: 'center',\n                }}>\n                  <TextInput\n                    placeholder=\"全名\"\n                    value={name}\n                    style={{ fontSize: 30 }}\n                    onChangeText={(name) => this.setName(name, index)}\n                  />\n                </View>\n\n                <View\n                  style={{\n                    width: '20%',\n                    padding: 10,\n                    backgroundColor: '#F5F5F5',\n                    borderRadius: 2,\n                    borderBottomWidth: 2,\n                    borderBottomColor: '#b5e9e9',\n                    justifyContent: 'center'\n                }}>\n                  {/* <TextInput\n                    placeholder=\"父/母\"\n                    value={role.charAt(role.length-1)}\n                    style={{ fontSize: 30 }}\n                    onChangeText={(role) => this.setRole(role, index)}\n                  /> */}\n                  <Picker\n                    selectedValue={role}\n                    style={{ height: 50 }}\n                    onValueChange={(itemValue, itemIndex) => this.setRole(itemValue, index)}\n                  >\n                    <Picker.Item label=\"父\" value=\"父\" />\n                    <Picker.Item label=\"母\" value=\"母\" />\n                  </Picker>\n                </View>\n\n                <TouchableHighlight\n                  style={{\n                    width: '20%',\n                    padding: 10,\n                    backgroundColor: '#fa625f',\n                    borderRadius: 2,\n                    justifyContent: 'center'\n                  }}\n                  onPress={() => this.removeParent(index)}\n                >\n                  <Text style={{ alignSelf: 'center', fontSize: 30 }}>移除</Text>\n                </TouchableHighlight>\n\n              </View>\n\n              {/* SECOND ROW */}\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginBottom: '5%' }}>\n\n                <View\n                  style={{\n                    width: '100%',\n                    padding: 10,\n                    backgroundColor: '#F5F5F5',\n                    borderRadius: 2,\n                    borderBottomWidth: 2,\n                    borderBottomColor: '#b5e9e9',\n                    justifyContent: 'center'\n                }}>\n                  <TextInput\n                    placeholder=\"Email\"\n                    autoCapitalize=\"none\"\n                    keyboardType=\"email-address\"\n                    value={email}\n                    style={{ fontSize: 30 }}\n                    onChangeText={(email) => this.setEmail(email, index)}\n                  />\n                </View>\n              </View>\n\n              {/* THIRD ROW */}\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginBottom: '5%' }}>\n                <View\n                  style={{\n                    width: '35%',\n                    padding: 10,\n                    backgroundColor: '#F5F5F5',\n                    borderRadius: 2,\n                    borderBottomWidth: 2,\n                    borderBottomColor: '#b5e9e9',\n                    justifyContent: 'center'\n                }}>\n                  <TextInput\n                    placeholder=\"帳號\"\n                    autoCapitalize=\"none\"\n                    value={username}\n                    style={{ fontSize: 30 }}\n                    onChangeText={(username) => this.setUsername(username, index)}\n                    onEndEditing={(username) => this.toLowerCase(username, index)}\n                  />\n                </View>\n\n                <View\n                  style={{\n                    width: '35%',\n                    padding: 10,\n                    backgroundColor: '#F5F5F5',\n                    borderRadius: 2,\n                    borderBottomWidth: 2,\n                    borderBottomColor: '#b5e9e9',\n                    justifyContent: 'center'\n                }}>\n                  <TextInput\n                    secureTextEntry\n                    placeholder=\"密碼\"\n                    value={password}\n                    style={{ fontSize: 30 }}\n                    onChangeText={(password) => this.setPassword(password, index)}\n                  />\n                </View>\n\n                <TouchableHighlight\n                  style={{\n                    width: '20%',\n                    padding: 5,\n                    backgroundColor: parentSignUpStatus[index] ? '#dcf3d0' : '#ffe1d0',\n                    justifyContent: 'center'\n                  }}\n                  onPress={() => this.handleSignup(index)}\n                  disable={parentSignUpStatus[index]}\n                >\n                  {parentSignUpStatus[index] ?\n                    <Text style={{ fontSize: 20 }}>SUCCESS</Text>\n                    : <Text style={{ fontSize: 35, alignSelf: 'center' }}>註冊</Text>\n                  }\n                </TouchableHighlight>\n              </View>\n            </View>\n          )\n        })}\n      </View>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}