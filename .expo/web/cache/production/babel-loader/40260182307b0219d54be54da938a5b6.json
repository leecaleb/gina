{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _inherits from\"@babel/runtime/helpers/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import TouchableHighlight from\"react-native-web/dist/exports/TouchableHighlight\";import{Card}from'native-base';import{formatHourMinute,beautifyTime}from\"../../util\";import TimeModal from\"../../parent/timemodal\";var MedRequestModal=function(_React$Component){_inherits(MedRequestModal,_React$Component);var _super=_createSuper(MedRequestModal);function MedRequestModal(props){var _this;_classCallCheck(this,MedRequestModal);_this=_super.call(this,props);_this.state={medicated_time:new Date(),showTimePicker:false};return _this;}_createClass(MedRequestModal,[{key:\"selectDatetimeConfirm\",value:function selectDatetimeConfirm(time){this.setState({medicated_time:time,showTimePicker:false});}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,thumbnail=_this$props.thumbnail,student_name=_this$props.student_name,request=_this$props.request;var _this$state=this.state,medicated_time=_this$state.medicated_time,showTimePicker=_this$state.showTimePicker;var administered=request.administered,fever_entry=request.fever_entry,medication=request.medication,note=request.note,student_id=request.student_id,teacher_id=request.teacher_id,timestamp=request.timestamp;var before_meal=medication.before_meal,gel=medication.gel,other_type=medication.other_type,powder=medication.powder,powder_refrigerated=medication.powder_refrigerated,syrup=medication.syrup;var time=formatHourMinute(new Date(timestamp));return React.createElement(Card,{style:{flex:1,alignSelf:'center',width:'100%'}},showTimePicker?React.createElement(TimeModal,{start_date:medicated_time,datetime_type:'time',hideModal:function hideModal(){return _this2.setState({showTimePicker:false});},selectDatetimeConfirm:function selectDatetimeConfirm(datetime){return _this2.selectDatetimeConfirm(datetime);},minDatetime:null,maxDatetime:null}):null,React.createElement(View,{style:{flex:0.35,flexDirection:'row'}},React.createElement(View,{style:{flex:1,alignItems:'center',justifyContent:'center'}},React.createElement(Image,{source:thumbnail===''?require(\"../../../assets/icon-thumbnail.png\"):{uri:thumbnail},style:styles.thumbnailImage})),React.createElement(View,{style:{flex:1,justifyContent:'center',alignItems:'flex-start'}},React.createElement(Text,{style:{fontSize:70,fontWeight:'bold'}},student_name),React.createElement(Text,{style:{fontSize:70,fontWeight:'bold'}},time,\" \",before_meal===null?null:before_meal?'餐前':'餐後'))),React.createElement(View,{style:{flex:0.65,paddingBottom:20}},React.createElement(View,{style:{width:'100%',flexDirection:'row',flexWrap:'wrap',justifyContent:'space-evenly'}},powder&&React.createElement(View,{style:{width:'48%',padding:15,backgroundColor:'rgba(0,0,0,0.2)',flexDirection:'row',marginBottom:15,marginHorizontal:7}},React.createElement(Image,{source:require(\"../../../assets/icon-medication-powder.png\")}),React.createElement(View,null,React.createElement(Text,{style:{fontSize:30}},\"\\u85E5\\u7C89\"),powder_refrigerated&&React.createElement(Text,{style:{fontSize:30}},\"\\u9700\\u51B7\\u85CF\"))),syrup.length!==0&&React.createElement(View,{style:{width:'48%',padding:15,backgroundColor:'rgba(0,0,0,0.2)',marginBottom:15,flexDirection:'row',marginHorizontal:7}},React.createElement(Image,{source:require(\"../../../assets/icon-medication-syrup.png\")}),React.createElement(View,null,React.createElement(Text,{style:{fontSize:30}},\"\\u85E5\\u6C34\"),syrup.map(function(entry,index){return React.createElement(View,{key:index,style:{flexDirection:'row'}},React.createElement(Text,{style:{fontSize:20}},entry.amount,\" c.c.\"),entry.need_refrigerated&&React.createElement(Text,{style:{fontSize:20,marginLeft:20}},\"\\u9700\\u51B7\\u85CF\"));}))),gel&&React.createElement(View,{style:{width:'48%',padding:15,backgroundColor:'rgba(0,0,0,0.2)',marginBottom:15,flexDirection:'row',marginHorizontal:7}},React.createElement(Image,{source:require(\"../../../assets/icon-medication-gel.png\")}),React.createElement(View,null,React.createElement(Text,{style:{fontSize:30}},\"\\u85E5\\u818F\"),React.createElement(Text,{style:{fontSize:30}},gel))),other_type&&React.createElement(View,{style:{width:'48%',padding:15,backgroundColor:'rgba(0,0,0,0.2)',marginBottom:15,flexDirection:'row',marginHorizontal:7}},React.createElement(Image,{source:require(\"../../../assets/icon-medication-pill.png\")}),React.createElement(View,null,React.createElement(Text,{style:{fontSize:30}},\"\\u5176\\u4ED6\"),React.createElement(Text,{style:{fontSize:30}},other_type)))),React.createElement(View,{style:{width:'97%',marginHorizontal:10,flexDirection:'row',justifyContent:'space-between'}},React.createElement(View,{style:{width:'32%',aspectRatio:1,backgroundColor:'#fff1b5'}},React.createElement(View,{style:{padding:10}},React.createElement(Text,{style:{fontSize:30}},\"\\u5099\\u8A3B\")),React.createElement(View,{style:{padding:10}},React.createElement(Text,{style:{fontSize:25}},note))),React.createElement(View,{style:{width:'40%',backgroundColor:'#fa625f'}},React.createElement(View,{style:{padding:10}},React.createElement(Text,{style:{fontSize:30,color:'white'}},\"\\u767C\\u71D2\\u8D85\\u904E \",fever_entry.temperature,\"\\xB0C\")),React.createElement(View,{style:{padding:10}},fever_entry.powder&&React.createElement(Text,{style:{fontSize:25,color:'white'}},\"\\u85E5\\u7C89 \",fever_entry.powder_refrigerated&&'需冷藏'),fever_entry.syrup.length!==0&&React.createElement(View,{style:{flexDirection:'row'}},React.createElement(Text,{style:{fontSize:25,color:'white'}},\"\\u85E5\\u6C34    \"),fever_entry.syrup.map(function(entry,index){return React.createElement(Text,{key:index,style:{fontSize:25,color:'white'}},entry.amount,\" c.c. \",entry.need_refrigerated&&'需冷藏');})),fever_entry.other_type&&React.createElement(Text,{style:{fontSize:25,color:'white'}},\"\\u5176\\u4ED6    \",fever_entry.other_type))),React.createElement(View,{style:{width:'25%',justifyContent:'space-between'}},React.createElement(TouchableHighlight,{style:{padding:15,backgroundColor:'rgba(0,0,0,0.2)',justifyContent:'center',alignItems:'center'},onPress:function onPress(){return _this2.setState({showTimePicker:true});}},React.createElement(Text,{style:{fontSize:40}},beautifyTime(medicated_time))),React.createElement(TouchableHighlight,{style:{padding:15,width:'100%',backgroundColor:administered?'#dcf3d0':'#ffe1d0',alignItems:'center'},onPress:function onPress(){return _this2.props.showLoginNumberPad();}},React.createElement(Text,{style:{fontSize:40}},\"\\u5B8C\\u6210\"))))));}}]);return MedRequestModal;}(React.Component);export{MedRequestModal as default};var styles=StyleSheet.create({thumbnailImage:{height:180,width:180,borderRadius:90}});","map":{"version":3,"sources":["/home/caleb_lee/gina_web_app/components/teacher/logs/medrequestmodal.js"],"names":["React","Card","formatHourMinute","beautifyTime","TimeModal","MedRequestModal","props","state","medicated_time","Date","showTimePicker","time","setState","thumbnail","student_name","request","administered","fever_entry","medication","note","student_id","teacher_id","timestamp","before_meal","gel","other_type","powder","powder_refrigerated","syrup","flex","alignSelf","width","datetime","selectDatetimeConfirm","flexDirection","alignItems","justifyContent","require","uri","styles","thumbnailImage","fontSize","fontWeight","paddingBottom","flexWrap","padding","backgroundColor","marginBottom","marginHorizontal","length","map","entry","index","amount","need_refrigerated","marginLeft","aspectRatio","color","temperature","showLoginNumberPad","Component","StyleSheet","create","height","borderRadius"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Image, StyleSheet, View, Text, TouchableHighlight } from 'react-native'\nimport { Card } from 'native-base'\nimport { formatHourMinute, beautifyTime } from '../../util'\nimport TimeModal from '../../parent/timemodal'\n\nexport default class MedRequestModal extends React.Component {\n    constructor (props) {\n        super(props)\n        this.state={\n            medicated_time: new Date(),\n            showTimePicker: false\n        }\n    }\n\n    selectDatetimeConfirm(time){\n        this.setState({\n            medicated_time: time,\n            showTimePicker: false\n        })\n    }\n\n    render() {\n        const { thumbnail, student_name, request } = this.props\n        const { medicated_time, showTimePicker } = this.state\n        const { administered, fever_entry, medication, note, student_id, teacher_id, timestamp } = request\n        const { before_meal, gel, other_type, powder, powder_refrigerated, syrup } = medication\n        // const { other_type, powder, powder_refrigerated, syrup, temperature } = fever_entry\n        const time = formatHourMinute(new Date(timestamp))\n        return (\n            <Card style={{ flex: 1, alignSelf: 'center', width: '100%' }}>\n\n                {showTimePicker ?\n                    <TimeModal\n                        start_date={medicated_time}\n                        datetime_type={'time'}\n                        hideModal={() => this.setState({ showTimePicker: false })}\n                        selectDatetimeConfirm={(datetime) => this.selectDatetimeConfirm(datetime)}\n                        minDatetime={null}\n                        maxDatetime={null}\n                    />\n                    : null\n                }\n\n                <View style={{ flex: 0.35, flexDirection: 'row' }}>\n                    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n                        <Image\n                            source={thumbnail === '' ?\n                                require('../../../assets/icon-thumbnail.png')\n                                : { uri: thumbnail }\n                            }\n                            style={styles.thumbnailImage}\n                        />\n                    </View>\n                    \n                    <View style={{ flex: 1, justifyContent: 'center', alignItems: 'flex-start' }}>\n                        <Text style={{ fontSize: 70, fontWeight: 'bold' }}>{student_name}</Text>\n                        <Text style={{ fontSize: 70, fontWeight: 'bold' }}>{time} {before_meal === null ? null : before_meal ? '餐前' : '餐後'}</Text>\n                    </View>\n                </View>\n                <View style={{ flex: 0.65, paddingBottom: 20 }}>\n                    <View style={{ width: '100%', flexDirection: 'row', flexWrap: 'wrap', justifyContent: 'space-evenly' }}>\n                        {powder &&\n                            <View style={{ width: '48%', padding: 15, backgroundColor: 'rgba(0,0,0,0.2)', flexDirection: 'row', marginBottom: 15, marginHorizontal: 7}}>\n                                <Image\n                                    source={require('../../../assets/icon-medication-powder.png')}\n                                />\n                                <View>\n                                    <Text style={{ fontSize: 30 }}>藥粉</Text>\n                                    {powder_refrigerated && <Text style={{ fontSize: 30 }}>需冷藏</Text>}\n                                </View>\n                            </View>\n                        }\n                        {syrup.length !== 0 &&\n                        <View style={{ width: '48%', padding: 15, backgroundColor: 'rgba(0,0,0,0.2)', marginBottom: 15, flexDirection: 'row', marginHorizontal: 7 }}>\n                            <Image\n                                source={require('../../../assets/icon-medication-syrup.png')}\n                            />\n                            <View>\n                                <Text style={{ fontSize: 30 }}>藥水</Text>\n                                {syrup.map((entry, index) => {\n                                    return (\n                                        <View key={index} style={{ flexDirection: 'row' }}>\n                                            <Text style={{ fontSize: 20 }}>{entry.amount} c.c.</Text>\n                                            {entry.need_refrigerated && <Text style={{ fontSize: 20, marginLeft: 20 }}>需冷藏</Text>}\n                                        </View>\n                                    )\n                                })}\n                            </View>\n                        </View>\n                        }\n                        {gel &&\n                        <View style={{ width: '48%', padding: 15, backgroundColor: 'rgba(0,0,0,0.2)', marginBottom: 15, flexDirection: 'row', marginHorizontal: 7 }}>\n                            <Image\n                                source={require('../../../assets/icon-medication-gel.png')}\n                            />\n                            <View>\n                                <Text style={{ fontSize: 30 }}>藥膏</Text>\n                                <Text style={{ fontSize: 30 }}>{gel}</Text>\n                            </View>\n                        </View>\n                        }\n                        {other_type &&\n                        <View style={{ width: '48%', padding: 15, backgroundColor: 'rgba(0,0,0,0.2)', marginBottom: 15, flexDirection: 'row', marginHorizontal: 7 }}>\n                            <Image\n                                source={require('../../../assets/icon-medication-pill.png')}\n                            />\n                            <View>\n                                <Text style={{ fontSize: 30 }}>其他</Text>\n                                <Text style={{ fontSize: 30 }}>{other_type}</Text>\n                            </View>\n                        </View>\n                        }\n                    </View>\n                    <View style={{ width: '97%', marginHorizontal: 10, flexDirection: 'row', justifyContent: 'space-between' }}>\n                        <View style={{ width: '32%', aspectRatio: 1, backgroundColor: '#fff1b5' }}>\n                            <View style={{ padding: 10 }}>\n                                <Text style={{ fontSize: 30 }}>備註</Text>\n                            </View>\n                            <View style={{ padding: 10 }}>\n                                <Text style={{ fontSize: 25 }}>{note}</Text>\n                            </View>\n                        </View>\n\n                        <View style={{ width: '40%', backgroundColor: '#fa625f' }}>\n                            <View style={{ padding: 10 }}>\n                                <Text style={{ fontSize: 30, color: 'white' }}>發燒超過 {fever_entry.temperature}°C</Text>\n                            </View>\n                            <View style={{ padding: 10 }}>\n                                {fever_entry.powder &&\n                                    <Text style={{ fontSize: 25, color: 'white' }}>藥粉 {fever_entry.powder_refrigerated && '需冷藏'}</Text>\n                                }\n\n                                {fever_entry.syrup.length !== 0 &&\n                                    <View style={{ flexDirection: 'row'}}>\n                                        <Text style={{ fontSize: 25, color: 'white' }}>藥水    </Text>\n                                        {fever_entry.syrup.map((entry, index) => {\n                                            return (\n                                                <Text key={index} style={{ fontSize: 25, color: 'white' }}>{entry.amount} c.c. {entry.need_refrigerated && '需冷藏'}</Text>\n                                            )\n                                        })}\n                                    </View>\n                                }\n\n                                {fever_entry.other_type && \n                                    <Text style={{ fontSize: 25, color: 'white' }}>其他    {fever_entry.other_type}</Text>\n                                }\n                            </View>\n                        </View>\n\n                        <View style={{ width: '25%', justifyContent: 'space-between'}}>\n                            <TouchableHighlight \n                                style={{ \n                                    padding: 15, \n                                    backgroundColor: 'rgba(0,0,0,0.2)', \n                                    justifyContent: 'center', \n                                    alignItems: 'center' \n                                }}\n                                onPress={() => this.setState({ showTimePicker: true })}\n                            >\n                                <Text style={{ fontSize: 40 }}>{beautifyTime(medicated_time)}</Text>\n                            </TouchableHighlight>\n                            <TouchableHighlight\n                                style={{\n                                    padding: 15,\n                                    width: '100%',\n                                    backgroundColor: administered ? '#dcf3d0' : '#ffe1d0',\n                                    alignItems: 'center'\n                                }}\n                                onPress={() => this.props.showLoginNumberPad()}\n                            >\n                                <Text style={{ fontSize: 40 }}>完成</Text>\n                            </TouchableHighlight>\n                        </View>\n                    </View>\n                </View>\n            </Card>\n        )\n    }\n}\n\nconst styles = StyleSheet.create({\n    thumbnailImage: {\n        height: 180,\n        width: 180,\n        borderRadius: 90\n    }\n})"]},"metadata":{},"sourceType":"module"}